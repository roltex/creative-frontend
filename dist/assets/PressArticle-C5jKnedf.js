import{a as D,b as F,c as x,L as P,r as B,o as T,f as l,g as o,s as i,j as c,h as e,t as r,F as p,k as v,i as g,w as b,m as z,p as w,B as k}from"./index-CVN42izO.js";import{g as h}from"./imageUrl-BHLJlSV4.js";import{u as E}from"./press-acAoWmTc.js";import{X as O}from"./x-DyiG9n-Q.js";import{C as U}from"./chevron-left-Oc_ixa8O.js";import{C as X}from"./chevron-right-D0nW8p5n.js";import{C as q}from"./clock-vMJSDv25.js";import{f as G}from"./format-BcNypMxD.js";import"./axios-B0KAYBXw.js";import"./notifications-CqGGUVui.js";import"./createLucideIcon-CYzAwo_z.js";const H={class:"container-fluid py-12"},J={key:0,class:"text-center py-12"},K={key:1,class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},Q={class:"lg:col-span-3"},W={class:"mb-8"},Y={class:"mb-4"},Z={class:"inline-block px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-semibold"},A={class:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6 font-headline"},ee={class:"flex items-center space-x-4 text-gray-600"},se={key:0},te={key:0,class:"mb-8"},le=["src","alt"],oe={class:"prose prose-lg max-w-none mb-8"},ae={class:"text-lg text-gray-700 leading-relaxed whitespace-pre-line"},re={key:1,class:"mb-8"},ne={class:"text-2xl font-bold text-gray-900 mb-4 font-headline"},ie={class:"grid grid-cols-2 gap-4"},ce=["onClick"],de=["src","alt"],ue={key:2,class:"mt-8 pt-8 border-t border-gray-200"},ge={class:"flex flex-wrap gap-2"},he={class:"mt-8"},me={class:"lg:col-span-1"},pe={class:"sticky top-8 space-y-6"},ve={class:"bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm"},fe={class:"bg-gradient-to-r from-primary-500 to-primary-600 p-4"},_e={class:"text-lg font-bold text-white font-headline flex items-center"},ye={class:"p-4"},xe={key:0,class:"space-y-4"},be={key:0,class:"aspect-16-9 overflow-hidden rounded-lg mb-2 shadow-sm"},we=["src","alt"],ke={class:"px-1"},Ce={class:"inline-block px-2 py-1 bg-primary-50 text-primary-600 rounded-md text-xs font-semibold mb-2"},$e={class:"text-sm font-semibold text-gray-900 group-hover:text-primary-600 line-clamp-2 mb-2 leading-snug transition-colors"},Ie={class:"text-xs text-gray-500 flex items-center"},Le={key:1,class:"text-center py-8 text-gray-500"},je={class:"text-sm"},Be={class:"bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm"},Me={class:"bg-gradient-to-r from-secondary-500 to-secondary-600 p-4"},Ne={class:"text-lg font-bold text-white font-headline flex items-center"},Re={class:"p-4"},Se={key:0,class:"space-y-3"},Ve={key:0,class:"flex-shrink-0 w-16 h-16 overflow-hidden rounded-lg"},De=["src","alt"],Fe={class:"flex-1 min-w-0"},Pe={class:"text-sm font-semibold text-gray-900 group-hover:text-primary-600 line-clamp-2 leading-snug transition-colors"},Te={class:"text-xs text-gray-500 mt-1"},ze={key:2,class:"text-center py-12"},Ee={class:"text-gray-600"},Oe=["src","alt"],ss=D({__name:"PressArticle",setup(Ue){const C=P();F();const $=E(),{loading:M,currentArticle:N,articles:m}=$,t=x(()=>N||m.find(s=>s.slug===C.params.slug)),I=x(()=>{if(!t.value)return[];const s=m.filter(u=>u.id!==t.value.id&&u.category===t.value.category);if(s.length>=3)return s.slice(0,3);const n=m.filter(u=>u.id!==t.value.id);return[...s,...n].slice(0,3)}),L=x(()=>m.filter(s=>s.id!==t.value?.id).sort((s,n)=>(n.viewCount||0)-(s.viewCount||0)).slice(0,3)),f=B(!1),d=B(0),R=s=>{d.value=s,f.value=!0},j=()=>{f.value=!1},S=()=>{t.value?.gallery&&d.value<t.value.gallery.length-1&&d.value++},V=()=>{d.value>0&&d.value--},_=s=>G(new Date(s),"MMM dd, yyyy");return T(async()=>{const s=C.params.slug;s&&!t.value&&await $.fetchArticleBySlug(s)}),(s,n)=>{const u=z("RouterLink");return o(),l("div",H,[c(M)?(o(),l("div",J,[...n[1]||(n[1]=[e("div",{class:"skeleton h-12 w-3/4 mx-auto mb-8"},null,-1),e("div",{class:"skeleton h-4 w-full mb-4"},null,-1),e("div",{class:"skeleton h-4 w-full mb-4"},null,-1),e("div",{class:"skeleton h-4 w-3/4"},null,-1)])])):t.value?(o(),l("div",K,[e("article",Q,[e("header",W,[e("div",Y,[e("span",Z,r(t.value.category),1)]),e("h1",A,r(t.value.title[s.$i18n.locale]),1),e("div",ee,[e("span",null,r(_(t.value.publishedAt)),1),t.value.viewCount?(o(),l("span",se,"• "+r(t.value.viewCount)+" "+r(s.$t("press.views")),1)):i("",!0)])]),t.value.image?(o(),l("div",te,[e("img",{src:c(h)(t.value.image),alt:t.value.title[s.$i18n.locale],class:"w-full h-auto rounded-2xl"},null,8,le)])):i("",!0),e("div",oe,[e("p",ae,r(t.value.content[s.$i18n.locale]),1)]),t.value.gallery&&t.value.gallery.length>0?(o(),l("div",re,[e("h2",ne,r(s.$t("press.gallery")),1),e("div",ie,[(o(!0),l(p,null,v(t.value.gallery,(a,y)=>(o(),l("div",{key:y,class:"aspect-4-3 overflow-hidden rounded-xl cursor-pointer group",onClick:Xe=>R(y)},[e("img",{src:c(h)(a),alt:`${t.value.title[s.$i18n.locale]} - Image ${y+1}`,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,de)],8,ce))),128))])])):i("",!0),t.value.tags&&t.value.tags.length>0?(o(),l("div",ue,[e("div",ge,[(o(!0),l(p,null,v(t.value.tags,a=>(o(),l("span",{key:a,class:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm"}," #"+r(a),1))),128))])])):i("",!0),e("div",he,[g(u,{to:{name:"press"},class:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 font-medium"},{default:b(()=>[n[2]||(n[2]=e("span",null,"←",-1)),e("span",null,r(s.$t("press.backToPress")),1)]),_:1})])]),e("aside",me,[e("div",pe,[e("div",ve,[e("div",fe,[e("h3",_e,[n[3]||(n[3]=e("span",{class:"w-1 h-6 bg-white rounded-full mr-3"},null,-1)),w(" "+r(s.$t("press.relatedArticles")),1)])]),e("div",ye,[I.value.length>0?(o(),l("div",xe,[(o(!0),l(p,null,v(I.value,a=>(o(),l("article",{key:a.id,class:"group hover:bg-gray-50 rounded-xl transition-all duration-200"},[g(u,{to:{name:"press-article",params:{slug:a.slug}},class:"block p-2"},{default:b(()=>[a.image?(o(),l("div",be,[e("img",{src:c(h)(a.image),alt:a.title[s.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,we)])):i("",!0),e("div",ke,[e("span",Ce,r(a.category),1),e("h4",$e,r(a.title[s.$i18n.locale]),1),e("p",Ie,[g(c(q),{class:"w-3 h-3 mr-1"}),w(" "+r(_(a.publishedAt)),1)])])]),_:2},1032,["to"])]))),128))])):(o(),l("div",Le,[e("p",je,r(s.$t("press.noRelatedArticles")),1)]))])]),e("div",Be,[e("div",Me,[e("h3",Ne,[n[4]||(n[4]=e("span",{class:"w-1 h-6 bg-white rounded-full mr-3"},null,-1)),w(" "+r(s.$t("press.popularArticles")),1)])]),e("div",Re,[L.value.length>0?(o(),l("div",Se,[(o(!0),l(p,null,v(L.value,a=>(o(),l("article",{key:a.id,class:"group"},[g(u,{to:{name:"press-article",params:{slug:a.slug}},class:"flex items-start space-x-3 hover:bg-gray-50 rounded-lg p-2 transition-colors"},{default:b(()=>[a.image?(o(),l("div",Ve,[e("img",{src:c(h)(a.image),alt:a.title[s.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,De)])):i("",!0),e("div",Fe,[e("h4",Pe,r(a.title[s.$i18n.locale]),1),e("p",Te,r(_(a.publishedAt)),1)])]),_:2},1032,["to"])]))),128))])):i("",!0)])])])])])):(o(),l("div",ze,[e("p",Ee,r(s.$t("press.articleNotFound")),1)])),f.value?(o(),l("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:j},[e("button",{class:"absolute top-4 right-4 text-white hover:text-gray-300",onClick:j},[g(c(O),{class:"w-8 h-8"})]),d.value>0?(o(),l("button",{key:0,class:"absolute left-4 text-white hover:text-gray-300",onClick:k(V,["stop"])},[g(c(U),{class:"w-8 h-8"})])):i("",!0),d.value<(t.value?.gallery?.length||0)-1?(o(),l("button",{key:1,class:"absolute right-4 text-white hover:text-gray-300",onClick:k(S,["stop"])},[g(c(X),{class:"w-8 h-8"})])):i("",!0),t.value?.gallery?(o(),l("img",{key:2,src:c(h)(t.value.gallery[d.value]),alt:`${t.value.title[s.$i18n.locale]} - Image ${d.value+1}`,class:"max-w-full max-h-full object-contain",onClick:n[0]||(n[0]=k(()=>{},["stop"]))},null,8,Oe)):i("",!0)])):i("",!0)])}}});export{ss as default};
