import{d as m,r as a}from"./index-C6629Kvt.js";import{a as i}from"./axios-i4z66gT6.js";const F=m("press",()=>{const r=a([]),d=a(null),o=a([]),s=a(!1),n=a(null),u=a(!1),l=a({media:"all",search:""}),c=a({currentPage:1,totalPages:1,perPage:12,total:0});async function f(){if(s.value)return r.value;s.value=!0,n.value=null;try{const e={per_page:1e3},t=await i.get("/press",{params:e});if(t.data.success)r.value=t.data.data||[],t.data.meta&&(c.value={currentPage:1,totalPages:t.data.meta.last_page||1,perPage:t.data.meta.per_page||1e3,total:t.data.meta.total||0}),u.value=!0;else throw new Error(t.data.message||"Failed to fetch press articles")}catch(e){console.error("Failed to fetch press articles:",e),n.value=e.response?.data?.message||e.message||"Failed to fetch press articles",r.value=[],u.value=!0}finally{s.value=!1}return r.value}async function p(){try{const e=await i.get("/press/media/outlets");if(e.data.success)return o.value=e.data.data,o.value}catch(e){return console.error("Failed to fetch media outlets:",e),[]}}function v(e){l.value={...l.value,...e},c.value.currentPage=1}function g(){l.value={media:"all",search:""},c.value.currentPage=1}return{articles:r,currentArticle:d,mediaOutlets:o,loading:s,error:n,initialized:u,filters:l,pagination:c,fetchArticles:f,fetchMediaOutlets:p,setFilters:v,clearFilters:g}});export{F as u};
