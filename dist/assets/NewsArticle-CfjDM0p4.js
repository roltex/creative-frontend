import{a as R,b as S,c as f,M as T,r as $,o as V,f as l,g as o,s as u,h as e,j as c,i as g,t as r,F as y,k as _,w as N,m as D,p as I,B as b}from"./index-trddXes8.js";import{g as h}from"./imageUrl-TKHrL0N0.js";import{u as F}from"./news-KAh4c0Q1.js";import{N as A}from"./newspaper-XFfxLQI_.js";import{X as H}from"./x-DyXBmmiW.js";import{C as z}from"./chevron-left-vf3EYJzS.js";import{C as E}from"./chevron-right-CiRvgXIB.js";import{C as O}from"./clock-Bq0dP1gt.js";import{f as U}from"./format-BcNypMxD.js";import"./axios-Ba1M-Wq-.js";import"./notifications-OVUfENsD.js";import"./createLucideIcon-B8W9cGj8.js";const X={class:"container-fluid py-12"},q={key:0,class:"text-center py-12"},G={key:1},J={class:"bg-white rounded-3xl shadow-lg overflow-hidden mb-8"},K={class:"relative h-96 lg:h-[500px]"},P=["src","alt"],Q={key:1,class:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary-100 to-primary-200"},W={class:"absolute bottom-0 left-0 right-0 p-8 lg:p-12 text-white"},Y={class:"max-w-4xl"},Z={class:"flex items-center gap-3 mb-4"},ee={class:"px-4 py-2 bg-primary-500 rounded-full text-sm font-semibold"},te={class:"px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-sm font-semibold"},se={class:"text-4xl lg:text-5xl font-bold mb-4 font-headline"},le={class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},oe={class:"lg:col-span-3"},ae={class:"prose prose-lg max-w-none mb-8"},ne=["innerHTML"],re={key:0,class:"mb-8"},ie={class:"text-2xl font-bold text-gray-900 mb-4 font-headline"},ce={class:"grid grid-cols-2 gap-4"},de=["onClick"],ue=["src","alt"],ge={key:1,class:"mt-8 pt-8 border-t border-gray-200"},me={class:"flex flex-wrap gap-2"},he={class:"mt-8"},pe={class:"lg:col-span-1"},ve={class:"sticky top-8 space-y-6"},fe={class:"bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm"},ye={class:"bg-gradient-to-r from-primary-500 to-primary-600 p-4"},_e={class:"text-lg font-bold text-white font-headline flex items-center"},be={class:"p-4"},xe={key:0,class:"space-y-4"},we={key:0,class:"aspect-16-9 overflow-hidden rounded-lg mb-2 shadow-sm"},ke=["src","alt"],Ce={class:"px-1"},$e={class:"inline-block px-2 py-1 bg-primary-50 text-primary-600 rounded-md text-xs font-semibold mb-2"},Ne={class:"text-sm font-semibold text-gray-900 group-hover:text-primary-600 line-clamp-2 mb-2 leading-snug transition-colors"},Ie={class:"text-xs text-gray-500 flex items-center"},Le={key:1,class:"text-center py-8 text-gray-500"},Me={class:"text-sm"},je={key:2,class:"text-center py-12"},Be={class:"text-gray-600"},Re=["src","alt"],Je=R({__name:"NewsArticle",setup(Se){const x=T();S();const m=F(),L=f(()=>m.loading),t=f(()=>m.currentArticle||m.articles.find(s=>s.slug===x.params.slug)),w=f(()=>{if(!t.value)return[];const s=m.articles.filter(d=>d.id!==t.value.id&&d.category===t.value.category);if(s.length>=3)return s.slice(0,3);const n=m.articles.filter(d=>d.id!==t.value.id);return[...s,...n].slice(0,3)}),p=$(!1),i=$(0),M=s=>{i.value=s,p.value=!0},k=()=>{p.value=!1},j=()=>{t.value?.gallery&&i.value<t.value.gallery.length-1&&i.value++},B=()=>{i.value>0&&i.value--},C=s=>U(new Date(s),"MMM dd, yyyy");return V(async()=>{const s=x.params.slug;s&&!t.value&&await m.fetchArticleBySlug(s)}),(s,n)=>{const d=D("RouterLink");return o(),l("div",X,[L.value?(o(),l("div",q,[...n[1]||(n[1]=[e("div",{class:"skeleton h-12 w-3/4 mx-auto mb-8"},null,-1),e("div",{class:"skeleton h-4 w-full mb-4"},null,-1),e("div",{class:"skeleton h-4 w-full mb-4"},null,-1),e("div",{class:"skeleton h-4 w-3/4"},null,-1)])])):t.value?(o(),l("div",G,[e("div",J,[e("div",K,[t.value.image?(o(),l("img",{key:0,src:c(h)(t.value.image),alt:t.value.title[s.$i18n.locale],class:"w-full h-full object-cover"},null,8,P)):(o(),l("div",Q,[g(c(A),{class:"w-32 h-32 text-primary-500"})])),n[2]||(n[2]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"},null,-1)),e("div",W,[e("div",Y,[e("div",Z,[e("span",ee,r(t.value.category),1),e("span",te,r(C(t.value.publishedAt)),1)]),e("h1",se,r(t.value.title[s.$i18n.locale]),1)])])])]),e("div",le,[e("article",oe,[e("div",ae,[e("div",{class:"text-lg text-gray-700 leading-relaxed",innerHTML:t.value.content[s.$i18n.locale]},null,8,ne)]),t.value.gallery&&t.value.gallery.length>0?(o(),l("div",re,[e("h2",ie,r(s.$t("news.gallery")),1),e("div",ce,[(o(!0),l(y,null,_(t.value.gallery,(a,v)=>(o(),l("div",{key:v,class:"aspect-4-3 overflow-hidden rounded-xl cursor-pointer group",onClick:Te=>M(v)},[e("img",{src:c(h)(a),alt:`${t.value.title[s.$i18n.locale]} - Image ${v+1}`,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,ue)],8,de))),128))])])):u("",!0),t.value.tags&&t.value.tags.length>0?(o(),l("div",ge,[e("div",me,[(o(!0),l(y,null,_(t.value.tags,a=>(o(),l("span",{key:a,class:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm"}," #"+r(a),1))),128))])])):u("",!0),e("div",he,[g(d,{to:{name:"news"},class:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 font-medium"},{default:N(()=>[n[3]||(n[3]=e("span",null,"â†",-1)),e("span",null,r(s.$t("news.backToNews")),1)]),_:1})])]),e("aside",pe,[e("div",ve,[e("div",fe,[e("div",ye,[e("h3",_e,[n[4]||(n[4]=e("span",{class:"w-1 h-6 bg-white rounded-full mr-3"},null,-1)),I(" "+r(s.$t("news.relatedArticles")),1)])]),e("div",be,[w.value.length>0?(o(),l("div",xe,[(o(!0),l(y,null,_(w.value,a=>(o(),l("article",{key:a.id,class:"group hover:bg-gray-50 rounded-xl transition-all duration-200"},[g(d,{to:{name:"news-article",params:{slug:a.slug}},class:"block p-2"},{default:N(()=>[a.image?(o(),l("div",we,[e("img",{src:c(h)(a.image),alt:a.title[s.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,ke)])):u("",!0),e("div",Ce,[e("span",$e,r(a.category),1),e("h4",Ne,r(a.title[s.$i18n.locale]),1),e("p",Ie,[g(c(O),{class:"w-3 h-3 mr-1"}),I(" "+r(C(a.publishedAt)),1)])])]),_:2},1032,["to"])]))),128))])):(o(),l("div",Le,[e("p",Me,r(s.$t("news.noRelatedArticles")),1)]))])])])])])])):(o(),l("div",je,[e("p",Be,r(s.$t("news.articleNotFound")),1)])),p.value?(o(),l("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:k},[e("button",{class:"absolute top-4 right-4 text-white hover:text-gray-300",onClick:k},[g(c(H),{class:"w-8 h-8"})]),i.value>0?(o(),l("button",{key:0,class:"absolute left-4 text-white hover:text-gray-300",onClick:b(B,["stop"])},[g(c(z),{class:"w-8 h-8"})])):u("",!0),i.value<(t.value?.gallery?.length||0)-1?(o(),l("button",{key:1,class:"absolute right-4 text-white hover:text-gray-300",onClick:b(j,["stop"])},[g(c(E),{class:"w-8 h-8"})])):u("",!0),t.value?.gallery?(o(),l("img",{key:2,src:c(h)(t.value.gallery[i.value]),alt:`${t.value.title[s.$i18n.locale]} - Image ${i.value+1}`,class:"max-w-full max-h-full object-contain",onClick:n[0]||(n[0]=b(()=>{},["stop"]))},null,8,Re)):u("",!0)])):u("",!0)])}}});export{Je as default};
