import{x as L,s as M,I as f,k as A,u as S,o as B,T as a,y as s,C as d,b as e,A as i,a as g,t as c,c as x,S as b,e as j,z as Q,g as T,l as h}from"./index-D4giqbAF.js";import{c as p}from"./imageUrl-TKHrL0N0-B9Kjf6s3.js";import{Q as I}from"./dateFormat-DGm57d66-C0i5cCne.js";import{z as H}from"./news-C6jiDKWN-B9r0LaF0.js";import{p as J}from"./newspaper-CjZDrsx3-BhO_Yfvs.js";import{c as q}from"./x-CfdvhGPO-CHa-oTZv.js";import{t as F}from"./chevron-left-DZZ_sQ0y-Djdz647I.js";import{h as G}from"./chevron-right-BSPrKCOI-DT4Lw4wL.js";import{o as K}from"./clock-DCMJHrSj-BoRgaCIq.js";import"./axios-BfW3-H3C-LYHUv-HN.js";import"./createLucideIcon-B8jW4fWM-Bxg4yWq8.js";import"./notifications-Cw33WVIa-BqNy21BL.js";const P={class:"container-fluid py-12"},W={key:0,class:"text-center py-12"},X={key:1},Y={class:"bg-white rounded-3xl shadow-lg overflow-hidden mb-8"},Z={class:"relative h-96 lg:h-[500px]"},D=["src","alt"],E={key:1,class:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary-100 to-primary-200"},O={class:"absolute bottom-0 left-0 right-0 p-8 lg:p-12 text-white"},U={class:"max-w-4xl"},V={class:"flex items-center gap-3 mb-4"},ee={class:"px-4 py-2 bg-primary-500 rounded-full text-sm font-semibold"},le={class:"px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-sm font-semibold"},te={class:"text-4xl lg:text-5xl font-bold mb-4 font-headline"},ae={class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},se={class:"lg:col-span-3"},re={class:"prose prose-lg max-w-none mb-8"},ie=["innerHTML"],oe={key:0,class:"mb-8"},ce={class:"text-2xl font-bold text-gray-900 mb-4 font-headline"},ne={class:"grid grid-cols-2 gap-4"},ue=["onClick"],de=["src","alt"],ge={key:1,class:"mt-8 pt-8 border-t border-gray-200"},me={class:"flex flex-wrap gap-2"},pe={class:"mt-8"},ve={class:"lg:col-span-1"},ye={class:"sticky top-8 space-y-6"},fe={class:"bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm"},xe={class:"bg-gradient-to-r from-primary-500 to-primary-600 p-4"},be={class:"text-lg font-bold text-white font-headline flex items-center"},he={class:"p-4"},we={key:0,class:"space-y-4"},ke={key:0,class:"aspect-16-9 overflow-hidden rounded-lg mb-2 shadow-sm"},$e=["src","alt"],Ce={class:"px-1"},Ae={class:"inline-block px-2 py-1 bg-primary-50 text-primary-600 rounded-md text-xs font-semibold mb-2"},je={class:"text-sm font-semibold text-gray-900 group-hover:text-primary-600 line-clamp-2 mb-2 leading-snug transition-colors"},Te={class:"text-xs text-gray-500 flex items-center"},Ie={key:1,class:"text-center py-8 text-gray-500"},Ne={class:"text-sm"},Re={key:2,class:"text-center py-12"},_e={class:"text-gray-600"},ze=["src","alt"],Ye=L({__name:"NewsArticle",setup(Le){const w=B(),{locale:k}=M(),m=H(),N=f(()=>m.loading),l=f(()=>m.currentArticle||m.articles.find(t=>t.slug===w.params.slug)),$=f(()=>{if(!l.value)return[];const t=m.articles.filter(u=>u.id!==l.value.id&&u.category===l.value.category);if(t.length>=3)return t.slice(0,3);const o=m.articles.filter(u=>u.id!==l.value.id);return[...t,...o].slice(0,3)}),v=A(!1),n=A(0),R=t=>{n.value=t,v.value=!0},C=()=>{v.value=!1},_=()=>{l.value?.gallery&&n.value<l.value.gallery.length-1&&n.value++},z=()=>{n.value>0&&n.value--};return S(async()=>{const t=w.params.slug;t&&!l.value&&await m.fetchArticleBySlug(t)}),(t,o)=>{const u=Q("RouterLink");return s(),a("div",P,[N.value?(s(),a("div",W,[...o[1]||(o[1]=[e("div",{class:"skeleton h-12 w-3/4 mx-auto mb-8"},null,-1),e("div",{class:"skeleton h-4 w-full mb-4"},null,-1),e("div",{class:"skeleton h-4 w-full mb-4"},null,-1),e("div",{class:"skeleton h-4 w-3/4"},null,-1)])])):l.value?(s(),a("div",X,[e("div",Y,[e("div",Z,[l.value.image?(s(),a("img",{key:0,src:i(p)(l.value.image),alt:l.value.title[t.$i18n.locale],class:"w-full h-full object-cover"},null,8,D)):(s(),a("div",E,[g(i(J),{class:"w-32 h-32 text-primary-500"})])),o[2]||(o[2]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"},null,-1)),e("div",O,[e("div",U,[e("div",V,[e("span",ee,c(l.value.category),1),e("span",le,c(i(I)(l.value.publishedAt,i(k))),1)]),e("h1",te,c(l.value.title[t.$i18n.locale]),1)])])])]),e("div",ae,[e("article",se,[e("div",re,[e("div",{class:"text-lg text-gray-700 leading-relaxed",innerHTML:l.value.content[t.$i18n.locale]},null,8,ie)]),l.value.gallery&&l.value.gallery.length>0?(s(),a("div",oe,[e("h2",ce,c(t.$t("news.gallery")),1),e("div",ne,[(s(!0),a(x,null,b(l.value.gallery,(r,y)=>(s(),a("div",{key:y,class:"aspect-4-3 overflow-hidden rounded-xl cursor-pointer group",onClick:Me=>R(y)},[e("img",{src:i(p)(r),alt:`${l.value.title[t.$i18n.locale]} - Image ${y+1}`,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,de)],8,ue))),128))])])):d("",!0),l.value.tags&&l.value.tags.length>0?(s(),a("div",ge,[e("div",me,[(s(!0),a(x,null,b(l.value.tags,r=>(s(),a("span",{key:r,class:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm"}," #"+c(r),1))),128))])])):d("",!0),e("div",pe,[g(u,{to:{name:"news"},class:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 font-medium"},{default:j(()=>[o[3]||(o[3]=e("span",null,"â†",-1)),e("span",null,c(t.$t("news.backToNews")),1)]),_:1})])]),e("aside",ve,[e("div",ye,[e("div",fe,[e("div",xe,[e("h3",be,[o[4]||(o[4]=e("span",{class:"w-1 h-6 bg-white rounded-full mr-3"},null,-1)),T(" "+c(t.$t("news.relatedArticles")),1)])]),e("div",he,[$.value.length>0?(s(),a("div",we,[(s(!0),a(x,null,b($.value,r=>(s(),a("article",{key:r.id,class:"group hover:bg-gray-50 rounded-xl transition-all duration-200"},[g(u,{to:{name:"news-article",params:{slug:r.slug}},class:"block p-2"},{default:j(()=>[r.image?(s(),a("div",ke,[e("img",{src:i(p)(r.image),alt:r.title[t.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,$e)])):d("",!0),e("div",Ce,[e("span",Ae,c(r.category),1),e("h4",je,c(r.title[t.$i18n.locale]),1),e("p",Te,[g(i(K),{class:"w-3 h-3 mr-1"}),T(" "+c(i(I)(r.publishedAt,i(k))),1)])])]),_:2},1032,["to"])]))),128))])):(s(),a("div",Ie,[e("p",Ne,c(t.$t("news.noRelatedArticles")),1)]))])])])])])])):(s(),a("div",Re,[e("p",_e,c(t.$t("news.articleNotFound")),1)])),v.value?(s(),a("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:C},[e("button",{class:"absolute top-4 right-4 text-white hover:text-gray-300",onClick:C},[g(i(q),{class:"w-8 h-8"})]),n.value>0?(s(),a("button",{key:0,class:"absolute left-4 text-white hover:text-gray-300",onClick:h(z,["stop"])},[g(i(F),{class:"w-8 h-8"})])):d("",!0),n.value<(l.value?.gallery?.length||0)-1?(s(),a("button",{key:1,class:"absolute right-4 text-white hover:text-gray-300",onClick:h(_,["stop"])},[g(i(G),{class:"w-8 h-8"})])):d("",!0),l.value?.gallery?(s(),a("img",{key:2,src:i(p)(l.value.gallery[n.value]),alt:`${l.value.title[t.$i18n.locale]} - Image ${n.value+1}`,class:"max-w-full max-h-full object-contain",onClick:o[0]||(o[0]=h(()=>{},["stop"]))},null,8,ze)):d("",!0)])):d("",!0)])}}});export{Ye as default};
