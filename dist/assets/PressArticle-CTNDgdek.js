import{a as P,b as D,c as x,M as T,r as N,o as z,f as l,g as o,s as c,j as n,h as e,t as r,F as p,k as v,i as g,w as b,m as E,p as w,B as k}from"./index-k0xKwboE.js";import{g as h}from"./imageUrl-TKHrL0N0.js";import{f as C}from"./dateFormat-DGm57d66.js";import{u as O}from"./press-B0JbCT0B.js";import{X as U}from"./x-BbOlJlQ9.js";import{C as X}from"./chevron-left-Ckay8TVr.js";import{C as q}from"./chevron-right-DE9y5Y2U.js";import{C as G}from"./clock-DtsRsX8I.js";import"./axios-B57PKoSu.js";import"./notifications-BnFZjIeQ.js";import"./createLucideIcon-CyTESH-e.js";const H={class:"container-fluid py-12"},J={key:0,class:"text-center py-12"},K={key:1,class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},Q={class:"lg:col-span-3"},W={class:"mb-8"},Y={class:"mb-4"},Z={class:"inline-block px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-semibold"},A={class:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6 font-headline"},ee={class:"flex items-center space-x-4 text-gray-600"},se={key:0},te={key:0,class:"mb-8"},le=["src","alt"],oe={class:"prose prose-lg max-w-none mb-8"},ae={class:"text-lg text-gray-700 leading-relaxed whitespace-pre-line"},re={key:1,class:"mb-8"},ne={class:"text-2xl font-bold text-gray-900 mb-4 font-headline"},ie={class:"grid grid-cols-2 gap-4"},ce=["onClick"],de=["src","alt"],ue={key:2,class:"mt-8 pt-8 border-t border-gray-200"},ge={class:"flex flex-wrap gap-2"},he={class:"mt-8"},me={class:"lg:col-span-1"},pe={class:"sticky top-8 space-y-6"},ve={class:"bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm"},_e={class:"bg-gradient-to-r from-primary-500 to-primary-600 p-4"},fe={class:"text-lg font-bold text-white font-headline flex items-center"},ye={class:"p-4"},xe={key:0,class:"space-y-4"},be={key:0,class:"aspect-16-9 overflow-hidden rounded-lg mb-2 shadow-sm"},we=["src","alt"],ke={class:"px-1"},Ce={class:"inline-block px-2 py-1 bg-primary-50 text-primary-600 rounded-md text-xs font-semibold mb-2"},$e={class:"text-sm font-semibold text-gray-900 group-hover:text-primary-600 line-clamp-2 mb-2 leading-snug transition-colors"},Ie={class:"text-xs text-gray-500 flex items-center"},je={key:1,class:"text-center py-8 text-gray-500"},Le={class:"text-sm"},Be={class:"bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm"},Ne={class:"bg-gradient-to-r from-secondary-500 to-secondary-600 p-4"},Re={class:"text-lg font-bold text-white font-headline flex items-center"},Se={class:"p-4"},Ve={key:0,class:"space-y-3"},Fe={key:0,class:"flex-shrink-0 w-16 h-16 overflow-hidden rounded-lg"},Me=["src","alt"],Pe={class:"flex-1 min-w-0"},De={class:"text-sm font-semibold text-gray-900 group-hover:text-primary-600 line-clamp-2 leading-snug transition-colors"},Te={class:"text-xs text-gray-500 mt-1"},ze={key:2,class:"text-center py-12"},Ee={class:"text-gray-600"},Oe=["src","alt"],ss=P({__name:"PressArticle",setup(Ue){const $=T(),{locale:_}=D(),I=O(),{loading:R,currentArticle:S,articles:m}=I,t=x(()=>S||m.find(s=>s.slug===$.params.slug)),j=x(()=>{if(!t.value)return[];const s=m.filter(u=>u.id!==t.value.id&&u.category===t.value.category);if(s.length>=3)return s.slice(0,3);const i=m.filter(u=>u.id!==t.value.id);return[...s,...i].slice(0,3)}),L=x(()=>m.filter(s=>s.id!==t.value?.id).sort((s,i)=>(i.viewCount||0)-(s.viewCount||0)).slice(0,3)),f=N(!1),d=N(0),V=s=>{d.value=s,f.value=!0},B=()=>{f.value=!1},F=()=>{t.value?.gallery&&d.value<t.value.gallery.length-1&&d.value++},M=()=>{d.value>0&&d.value--};return z(async()=>{const s=$.params.slug;s&&!t.value&&await I.fetchArticleBySlug(s)}),(s,i)=>{const u=E("RouterLink");return o(),l("div",H,[n(R)?(o(),l("div",J,[...i[1]||(i[1]=[e("div",{class:"skeleton h-12 w-3/4 mx-auto mb-8"},null,-1),e("div",{class:"skeleton h-4 w-full mb-4"},null,-1),e("div",{class:"skeleton h-4 w-full mb-4"},null,-1),e("div",{class:"skeleton h-4 w-3/4"},null,-1)])])):t.value?(o(),l("div",K,[e("article",Q,[e("header",W,[e("div",Y,[e("span",Z,r(t.value.category),1)]),e("h1",A,r(t.value.title[s.$i18n.locale]),1),e("div",ee,[e("span",null,r(n(C)(t.value.publishedAt,n(_))),1),t.value.viewCount?(o(),l("span",se,"• "+r(t.value.viewCount)+" "+r(s.$t("press.views")),1)):c("",!0)])]),t.value.image?(o(),l("div",te,[e("img",{src:n(h)(t.value.image),alt:t.value.title[s.$i18n.locale],class:"w-full h-auto rounded-2xl"},null,8,le)])):c("",!0),e("div",oe,[e("p",ae,r(t.value.content[s.$i18n.locale]),1)]),t.value.gallery&&t.value.gallery.length>0?(o(),l("div",re,[e("h2",ne,r(s.$t("press.gallery")),1),e("div",ie,[(o(!0),l(p,null,v(t.value.gallery,(a,y)=>(o(),l("div",{key:y,class:"aspect-4-3 overflow-hidden rounded-xl cursor-pointer group",onClick:Xe=>V(y)},[e("img",{src:n(h)(a),alt:`${t.value.title[s.$i18n.locale]} - Image ${y+1}`,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,de)],8,ce))),128))])])):c("",!0),t.value.tags&&t.value.tags.length>0?(o(),l("div",ue,[e("div",ge,[(o(!0),l(p,null,v(t.value.tags,a=>(o(),l("span",{key:a,class:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm"}," #"+r(a),1))),128))])])):c("",!0),e("div",he,[g(u,{to:{name:"press"},class:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 font-medium"},{default:b(()=>[i[2]||(i[2]=e("span",null,"←",-1)),e("span",null,r(s.$t("press.backToPress")),1)]),_:1})])]),e("aside",me,[e("div",pe,[e("div",ve,[e("div",_e,[e("h3",fe,[i[3]||(i[3]=e("span",{class:"w-1 h-6 bg-white rounded-full mr-3"},null,-1)),w(" "+r(s.$t("press.relatedArticles")),1)])]),e("div",ye,[j.value.length>0?(o(),l("div",xe,[(o(!0),l(p,null,v(j.value,a=>(o(),l("article",{key:a.id,class:"group hover:bg-gray-50 rounded-xl transition-all duration-200"},[g(u,{to:{name:"press-article",params:{slug:a.slug}},class:"block p-2"},{default:b(()=>[a.image?(o(),l("div",be,[e("img",{src:n(h)(a.image),alt:a.title[s.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,we)])):c("",!0),e("div",ke,[e("span",Ce,r(a.category),1),e("h4",$e,r(a.title[s.$i18n.locale]),1),e("p",Ie,[g(n(G),{class:"w-3 h-3 mr-1"}),w(" "+r(n(C)(a.publishedAt,n(_))),1)])])]),_:2},1032,["to"])]))),128))])):(o(),l("div",je,[e("p",Le,r(s.$t("press.noRelatedArticles")),1)]))])]),e("div",Be,[e("div",Ne,[e("h3",Re,[i[4]||(i[4]=e("span",{class:"w-1 h-6 bg-white rounded-full mr-3"},null,-1)),w(" "+r(s.$t("press.popularArticles")),1)])]),e("div",Se,[L.value.length>0?(o(),l("div",Ve,[(o(!0),l(p,null,v(L.value,a=>(o(),l("article",{key:a.id,class:"group"},[g(u,{to:{name:"press-article",params:{slug:a.slug}},class:"flex items-start space-x-3 hover:bg-gray-50 rounded-lg p-2 transition-colors"},{default:b(()=>[a.image?(o(),l("div",Fe,[e("img",{src:n(h)(a.image),alt:a.title[s.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,Me)])):c("",!0),e("div",Pe,[e("h4",De,r(a.title[s.$i18n.locale]),1),e("p",Te,r(n(C)(a.publishedAt,n(_))),1)])]),_:2},1032,["to"])]))),128))])):c("",!0)])])])])])):(o(),l("div",ze,[e("p",Ee,r(s.$t("press.articleNotFound")),1)])),f.value?(o(),l("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:B},[e("button",{class:"absolute top-4 right-4 text-white hover:text-gray-300",onClick:B},[g(n(U),{class:"w-8 h-8"})]),d.value>0?(o(),l("button",{key:0,class:"absolute left-4 text-white hover:text-gray-300",onClick:k(M,["stop"])},[g(n(X),{class:"w-8 h-8"})])):c("",!0),d.value<(t.value?.gallery?.length||0)-1?(o(),l("button",{key:1,class:"absolute right-4 text-white hover:text-gray-300",onClick:k(F,["stop"])},[g(n(q),{class:"w-8 h-8"})])):c("",!0),t.value?.gallery?(o(),l("img",{key:2,src:n(h)(t.value.gallery[d.value]),alt:`${t.value.title[s.$i18n.locale]} - Image ${d.value+1}`,class:"max-w-full max-h-full object-contain",onClick:i[0]||(i[0]=k(()=>{},["stop"]))},null,8,Oe)):c("",!0)])):c("",!0)])}}});export{ss as default};
