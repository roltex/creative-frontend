import{a as T,b as E,D as L,o as I,e as l,f as t,t as a,g as m,h as n,x as S,y as z,N as F,F as x,i as b,v as G,M as H,m as u,r as $,q as r,j as K,l as A,w as Q,k as J,R as O,n as W,A as X}from"./index-C6629Kvt.js";import{u as Y}from"./press-DyvlVp2f.js";import{g as Z}from"./imageUrl-TKHrL0N0.js";import{f as ee}from"./dateFormat-DO1NDqP2.js";import{S as se}from"./search-Df_JO8FL.js";import{C as te}from"./chevron-left-DKqcH9Cl.js";import{C as oe}from"./chevron-right-DjUiTJjz.js";import{N as q}from"./newspaper-BDXFq8Ks.js";import{c as ae}from"./createLucideIcon-BddPz1xR.js";import"./axios-i4z66gT6.js";import"./notifications-BIGFnnIs.js";const re=ae("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),le={class:"space-y-6"},ie={class:"bg-white rounded-2xl shadow-lg p-6"},ne={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},de={class:"md:col-span-1"},ce={class:"block text-sm font-medium text-gray-700 mb-2"},ue={class:"relative"},me=["placeholder"],pe={class:"md:col-span-1"},ge={class:"block text-sm font-medium text-gray-700 mb-2"},he={value:""},ve=["value"],ye={class:"mt-4 text-sm text-gray-600"},fe={key:0,class:"bg-white rounded-2xl shadow-lg overflow-hidden"},_e={class:"divide-y divide-gray-200"},xe={key:1,class:"bg-white rounded-2xl shadow-lg overflow-hidden"},be={class:"bg-gradient-to-r from-primary-500 to-primary-600 px-6 py-4"},we={class:"grid grid-cols-12 gap-6 text-white font-semibold text-sm"},ke={class:"col-span-4"},$e={class:"col-span-3"},Pe={class:"col-span-3"},Ne={class:"col-span-2 text-center"},Ce={class:"divide-y divide-gray-200"},Me={class:"col-span-4"},Le={class:"text-base font-semibold text-gray-900 line-clamp-2 mb-1"},Se={class:"text-xs text-gray-500"},Ae={class:"col-span-3"},qe={class:"text-sm font-medium text-gray-700"},Te={class:"col-span-3"},Ve=["href"],Re={class:"truncate"},je={class:"col-span-2 flex justify-center"},Ue={class:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center"},Be=["src","alt"],De={key:0,class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},Ee={class:"flex items-center justify-between"},Ie={class:"text-sm text-gray-600"},ze={class:"flex gap-2"},Fe=["disabled"],Ge=["onClick"],He=["disabled"],Ke={key:2,class:"text-center py-12 bg-white rounded-2xl shadow-lg"},Qe={class:"text-lg font-semibold text-gray-900 mb-2"},Je={class:"text-gray-600"},P=12,Oe=T({__name:"PressGrid",props:{limit:{},category:{}},setup(N){const c=N,{locale:w}=E(),C=H(),V=X(),k=Y(),p=u(()=>k.articles),M=u(()=>k.initialized),g=$(""),h=$(""),i=$(1),v=e=>e.mediaName?typeof e.mediaName=="object"?e.mediaName[w.value]||e.mediaName.ka||e.mediaName.en||"":e.mediaName:e.category||"",R=u(()=>{const e=new Set;return(Array.isArray(p.value)?p.value:[]).forEach(s=>{const d=v(s);d&&e.add(d)}),Array.from(e).sort()}),f=u(()=>{let e=Array.isArray(p.value)?p.value:[];if(g.value){const o=g.value.toLowerCase();e=e.filter(s=>{const d=s.title?.ka||"",y=s.title?.en||"",D=v(s);return d.toLowerCase().includes(o)||y.toLowerCase().includes(o)||D.toLowerCase().includes(o)})}return h.value&&(e=e.filter(o=>v(o)===h.value)),c.category&&(e=e.filter(o=>o.category===c.category)),e}),j=u(()=>{const e=(i.value-1)*P,o=e+P;return f.value.slice(e,o)}),_=u(()=>Math.ceil(f.value.length/P)),U=u(()=>{const e=[];let s=Math.max(1,i.value-Math.floor(2.5)),d=Math.min(_.value,s+5-1);d-s<4&&(s=Math.max(1,d-5+1));for(let y=s;y<=d;y++)e.push(y);return e}),B=e=>{if(c.limit)return;const o={...C.query};e>1?o.page=String(e):delete o.page,V.replace({query:o})};return L(i,e=>{B(e)}),L([g,h],()=>{i.value=1}),I(async()=>{const e=parseInt(C.query.page);!c.limit&&e&&e>0&&(i.value=e),M.value||await k.fetchArticles()}),(e,o)=>(r(),l("div",le,[t("div",ie,[t("div",ne,[t("div",de,[t("label",ce,a(e.$t("common.search")),1),t("div",ue,[m(n(se),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),S(t("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>g.value=s),type:"text",placeholder:e.$t("press.searchPlaceholder"),class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,8,me),[[z,g.value]])])]),t("div",pe,[t("label",ge,a(e.$t("press.mediaFilter")),1),S(t("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>h.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[t("option",he,a(e.$t("common.all")),1),(r(!0),l(x,null,b(R.value,s=>(r(),l("option",{key:s,value:s},a(s),9,ve))),128))],512),[[F,h.value]])])]),t("div",ye,a(e.$t("press.showingResults",{count:f.value.length,total:p.value.length||0})),1)]),M.value?f.value.length>0?(r(),l("div",xe,[t("div",be,[t("div",we,[t("div",ke,a(e.$t("press.articleTitle")),1),t("div",$e,a(e.$t("press.mediaName")),1),t("div",Pe,a(e.$t("press.link")),1),t("div",Ne,a(e.$t("press.mediaLogo")),1)])]),t("div",Ce,[(r(!0),l(x,null,b(j.value,s=>(r(),l("div",{key:s.id,class:"grid grid-cols-12 gap-6 px-6 py-5 hover:bg-gray-50 transition-colors items-center"},[t("div",Me,[t("h3",Le,a(s.title?.[e.$i18n.locale]||s.title?.ka||s.title?.en||""),1),t("p",Se,a(n(ee)(s.publishedAt,n(w))),1)]),t("div",Ae,[t("p",qe,a(v(s)),1)]),t("div",Te,[s.externalUrl?(r(),l("a",{key:0,href:s.externalUrl,target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center text-sm text-primary-600 hover:text-primary-700 font-medium"},[m(n(re),{class:"w-4 h-4 mr-1"}),t("span",Re,a(e.$t("press.viewArticle")),1)],8,Ve)):(r(),A(n(O),{key:1,to:{name:"press-article",params:{slug:s.slug}},class:"inline-flex items-center text-sm text-primary-600 hover:text-primary-700 font-medium"},{default:Q(()=>[J(a(e.$t("press.readMore")),1)]),_:1},8,["to"]))]),t("div",je,[t("div",Ue,[s.mediaLogo?(r(),l("img",{key:0,src:n(Z)(s.mediaLogo),alt:v(s)||"Media logo",class:"w-full h-full object-contain p-2"},null,8,Be)):(r(),A(n(q),{key:1,class:"w-8 h-8 text-gray-400"}))])])]))),128))]),_.value>1?(r(),l("div",De,[t("div",Ee,[t("div",Ie,a(e.$t("press.page"))+" "+a(i.value)+" "+a(e.$t("press.of"))+" "+a(_.value),1),t("div",ze,[t("button",{onClick:o[2]||(o[2]=s=>i.value--),disabled:i.value===1,class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[m(n(te),{class:"w-4 h-4"})],8,Fe),(r(!0),l(x,null,b(U.value,s=>(r(),l("button",{key:s,onClick:d=>i.value=s,class:W(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",s===i.value?"bg-primary-500 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-100"])},a(s),11,Ge))),128)),t("button",{onClick:o[3]||(o[3]=s=>i.value++),disabled:i.value===_.value,class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[m(n(oe),{class:"w-4 h-4"})],8,He)])])])):G("",!0)])):(r(),l("div",Ke,[m(n(q),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t("h3",Qe,a(e.$t("common.noResults")),1),t("p",Je,a(e.$t("press.noPressAvailable")),1)])):(r(),l("div",fe,[t("div",_e,[(r(),l(x,null,b(10,s=>t("div",{key:s,class:"p-6"},[...o[4]||(o[4]=[K('<div class="flex items-center gap-6"><div class="skeleton h-16 w-16 rounded-lg"></div><div class="flex-1 space-y-2"><div class="skeleton h-6 w-3/4"></div><div class="skeleton h-4 w-1/2"></div></div></div>',1)])])),64))])]))]))}}),We={class:"container-fluid py-12"},Xe={class:"text-4xl font-bold mb-8"},Ye={class:"text-xl text-gray-600 max-w-3xl mb-8"},cs=T({__name:"PressList",setup(N){return(c,w)=>(r(),l("div",We,[t("h1",Xe,a(c.$t("press.title")),1),t("p",Ye,a(c.$t("press.subtitle")),1),m(Oe)]))}});export{cs as default};
