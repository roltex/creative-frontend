import{a as L,b as q,c as d,r as w,D,o as R,f as l,g as r,h as s,t as o,i as m,x as N,j as n,y as U,N as B,F as x,k as b,s as E,l as z,q as P,w as F,p as I,R as G,n as H}from"./index-trddXes8.js";import{u as K}from"./press-CSYbbDNv.js";import{g as Q}from"./imageUrl-TKHrL0N0.js";import{S as J}from"./search-uYak5hi1.js";import{C as O}from"./chevron-left-vf3EYJzS.js";import{C as W}from"./chevron-right-CiRvgXIB.js";import{N as C}from"./newspaper-XFfxLQI_.js";import{c as X}from"./createLucideIcon-B8W9cGj8.js";import{f as Y}from"./format-BcNypMxD.js";import"./axios-Ba1M-Wq-.js";import"./notifications-OVUfENsD.js";/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=X("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),ee={class:"space-y-6"},se={class:"bg-white rounded-2xl shadow-lg p-6"},te={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},oe={class:"md:col-span-1"},ae={class:"block text-sm font-medium text-gray-700 mb-2"},re={class:"relative"},le=["placeholder"],ie={class:"md:col-span-1"},ne={class:"block text-sm font-medium text-gray-700 mb-2"},de={value:""},ce=["value"],me={class:"mt-4 text-sm text-gray-600"},ue={key:0,class:"bg-white rounded-2xl shadow-lg overflow-hidden"},pe={class:"divide-y divide-gray-200"},he={key:1,class:"bg-white rounded-2xl shadow-lg overflow-hidden"},ge={class:"bg-gradient-to-r from-primary-500 to-primary-600 px-6 py-4"},ve={class:"grid grid-cols-12 gap-6 text-white font-semibold text-sm"},ye={class:"col-span-4"},fe={class:"col-span-3"},_e={class:"col-span-3"},xe={class:"col-span-2 text-center"},be={class:"divide-y divide-gray-200"},we={class:"col-span-4"},ke={class:"text-base font-semibold text-gray-900 line-clamp-2 mb-1"},$e={class:"text-xs text-gray-500"},Me={class:"col-span-3"},Ne={class:"text-sm font-medium text-gray-700"},Pe={class:"col-span-3"},Ce=["href"],Le={class:"truncate"},Se={class:"col-span-2 flex justify-center"},Ae={class:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center"},Te=["src","alt"],Ve={key:0,class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},je={class:"flex items-center justify-between"},qe={class:"text-sm text-gray-600"},De={class:"flex gap-2"},Re=["disabled"],Ue=["onClick"],Be=["disabled"],Ee={key:2,class:"text-center py-12 bg-white rounded-2xl shadow-lg"},ze={class:"text-lg font-semibold text-gray-900 mb-2"},Fe={class:"text-gray-600"},k=10,Ie=L({__name:"PressGrid",props:{limit:{},category:{}},setup($){const u=$;q();const y=K(),p=d(()=>y.articles),M=d(()=>y.initialized),h=w(""),g=w(""),i=w(1),S=d(()=>{const t=new Set;return(Array.isArray(p.value)?p.value:[]).forEach(e=>{e.mediaName&&t.add(e.mediaName)}),Array.from(t).sort()}),f=d(()=>{let t=Array.isArray(p.value)?p.value:[];if(h.value){const a=h.value.toLowerCase();t=t.filter(e=>{const c=e.title?.ka||"",v=e.title?.en||"",j=e.mediaName||"";return c.toLowerCase().includes(a)||v.toLowerCase().includes(a)||j.toLowerCase().includes(a)})}return g.value&&(t=t.filter(a=>a.mediaName===g.value)),u.category&&(t=t.filter(a=>a.category===u.category)),t}),A=d(()=>{const t=(i.value-1)*k,a=t+k;return f.value.slice(t,a)}),_=d(()=>Math.ceil(f.value.length/k)),T=d(()=>{const t=[];let e=Math.max(1,i.value-Math.floor(2.5)),c=Math.min(_.value,e+5-1);c-e<4&&(e=Math.max(1,c-5+1));for(let v=e;v<=c;v++)t.push(v);return t});D([h,g],()=>{i.value=1});const V=t=>{if(!t)return"";try{return Y(new Date(t),"MMM dd, yyyy")}catch{return""}};return R(async()=>{M.value||await y.fetchArticles()}),(t,a)=>(r(),l("div",ee,[s("div",se,[s("div",te,[s("div",oe,[s("label",ae,o(t.$t("common.search")),1),s("div",re,[m(n(J),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),N(s("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>h.value=e),type:"text",placeholder:t.$t("press.searchPlaceholder"),class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,8,le),[[U,h.value]])])]),s("div",ie,[s("label",ne,o(t.$t("press.mediaFilter")),1),N(s("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>g.value=e),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[s("option",de,o(t.$t("common.all")),1),(r(!0),l(x,null,b(S.value,e=>(r(),l("option",{key:e,value:e},o(e),9,ce))),128))],512),[[B,g.value]])])]),s("div",me,o(t.$t("press.showingResults",{count:f.value.length,total:p.value.length||0})),1)]),M.value?f.value.length>0?(r(),l("div",he,[s("div",ge,[s("div",ve,[s("div",ye,o(t.$t("press.articleTitle")),1),s("div",fe,o(t.$t("press.mediaName")),1),s("div",_e,o(t.$t("press.link")),1),s("div",xe,o(t.$t("press.mediaLogo")),1)])]),s("div",be,[(r(!0),l(x,null,b(A.value,e=>(r(),l("div",{key:e.id,class:"grid grid-cols-12 gap-6 px-6 py-5 hover:bg-gray-50 transition-colors items-center"},[s("div",we,[s("h3",ke,o(e.title?.[t.$i18n.locale]||e.title?.ka||e.title?.en||""),1),s("p",$e,o(V(e.publishedAt)),1)]),s("div",Me,[s("p",Ne,o(e.mediaName||e.category),1)]),s("div",Pe,[e.externalUrl?(r(),l("a",{key:0,href:e.externalUrl,target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center text-sm text-primary-600 hover:text-primary-700 font-medium"},[m(n(Z),{class:"w-4 h-4 mr-1"}),s("span",Le,o(t.$t("press.viewArticle")),1)],8,Ce)):(r(),P(n(G),{key:1,to:{name:"press-article",params:{slug:e.slug}},class:"inline-flex items-center text-sm text-primary-600 hover:text-primary-700 font-medium"},{default:F(()=>[I(o(t.$t("press.readMore")),1)]),_:1},8,["to"]))]),s("div",Se,[s("div",Ae,[e.mediaLogo?(r(),l("img",{key:0,src:n(Q)(e.mediaLogo),alt:e.mediaName||"Media logo",class:"w-full h-full object-contain p-2"},null,8,Te)):(r(),P(n(C),{key:1,class:"w-8 h-8 text-gray-400"}))])])]))),128))]),_.value>1?(r(),l("div",Ve,[s("div",je,[s("div",qe,o(t.$t("press.page"))+" "+o(i.value)+" "+o(t.$t("press.of"))+" "+o(_.value),1),s("div",De,[s("button",{onClick:a[2]||(a[2]=e=>i.value--),disabled:i.value===1,class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[m(n(O),{class:"w-4 h-4"})],8,Re),(r(!0),l(x,null,b(T.value,e=>(r(),l("button",{key:e,onClick:c=>i.value=e,class:H(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",e===i.value?"bg-primary-500 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-100"])},o(e),11,Ue))),128)),s("button",{onClick:a[3]||(a[3]=e=>i.value++),disabled:i.value===_.value,class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[m(n(W),{class:"w-4 h-4"})],8,Be)])])])):E("",!0)])):(r(),l("div",Ee,[m(n(C),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s("h3",ze,o(t.$t("common.noResults")),1),s("p",Fe,o(t.$t("press.noPressAvailable")),1)])):(r(),l("div",ue,[s("div",pe,[(r(),l(x,null,b(10,e=>s("div",{key:e,class:"p-6"},[...a[4]||(a[4]=[z('<div class="flex items-center gap-6"><div class="skeleton h-16 w-16 rounded-lg"></div><div class="flex-1 space-y-2"><div class="skeleton h-6 w-3/4"></div><div class="skeleton h-4 w-1/2"></div></div></div>',1)])])),64))])]))]))}}),Ge={class:"container-fluid py-12"},He={class:"text-4xl font-bold mb-8"},Ke={class:"text-xl text-gray-600 max-w-3xl mb-8"},as=L({__name:"PressList",setup($){return(u,y)=>(r(),l("div",Ge,[s("h1",He,o(u.$t("press.title")),1),s("p",Ke,o(u.$t("press.subtitle")),1),m(Ie)]))}});export{as as default};
