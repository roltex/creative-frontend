import{a as q,b as D,c,r as w,D as L,o as E,M as I,f as l,g as r,h as t,t as a,i as m,x as M,j as n,y as z,N as F,F as _,k as x,s as G,l as H,q as S,w as K,p as Q,R as J,n as O,A as W}from"./index-BU-eUkvY.js";import{u as X}from"./press-DmaMGRQ-.js";import{g as Y}from"./imageUrl-TKHrL0N0.js";import{f as Z}from"./dateFormat-DGm57d66.js";import{S as ee}from"./search-B7mS9TwN.js";import{C as se}from"./chevron-left-CNQxgu3d.js";import{C as te}from"./chevron-right-Dhu57J4H.js";import{N as A}from"./newspaper-Cn-dimLr.js";import{c as oe}from"./createLucideIcon-CO9IXrRN.js";import"./axios-DaEDiNVl.js";import"./notifications-DR80_oC_.js";/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=oe("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),re={class:"space-y-6"},le={class:"bg-white rounded-2xl shadow-lg p-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ne={class:"md:col-span-1"},de={class:"block text-sm font-medium text-gray-700 mb-2"},ce={class:"relative"},ue=["placeholder"],me={class:"md:col-span-1"},pe={class:"block text-sm font-medium text-gray-700 mb-2"},ge={value:""},he=["value"],ve={class:"mt-4 text-sm text-gray-600"},ye={key:0,class:"bg-white rounded-2xl shadow-lg overflow-hidden"},fe={class:"divide-y divide-gray-200"},_e={key:1,class:"bg-white rounded-2xl shadow-lg overflow-hidden"},xe={class:"bg-gradient-to-r from-primary-500 to-primary-600 px-6 py-4"},be={class:"grid grid-cols-12 gap-6 text-white font-semibold text-sm"},we={class:"col-span-4"},ke={class:"col-span-3"},$e={class:"col-span-3"},Pe={class:"col-span-2 text-center"},Ne={class:"divide-y divide-gray-200"},Ce={class:"col-span-4"},Le={class:"text-base font-semibold text-gray-900 line-clamp-2 mb-1"},Me={class:"text-xs text-gray-500"},Se={class:"col-span-3"},Ae={class:"text-sm font-medium text-gray-700"},qe={class:"col-span-3"},Te=["href"],Ve={class:"truncate"},Re={class:"col-span-2 flex justify-center"},Ue={class:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center"},je=["src","alt"],Be={key:0,class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},De={class:"flex items-center justify-between"},Ee={class:"text-sm text-gray-600"},Ie={class:"flex gap-2"},ze=["disabled"],Fe=["onClick"],Ge=["disabled"],He={key:2,class:"text-center py-12 bg-white rounded-2xl shadow-lg"},Ke={class:"text-lg font-semibold text-gray-900 mb-2"},Qe={class:"text-gray-600"},k=10,Je=q({__name:"PressGrid",props:{limit:{},category:{}},setup($){const d=$,{locale:P}=D(),N=I(),T=W(),b=X(),p=c(()=>b.articles),C=c(()=>b.initialized),g=w(""),h=w(""),i=w(1),V=c(()=>{const e=new Set;return(Array.isArray(p.value)?p.value:[]).forEach(s=>{s.mediaName&&e.add(s.mediaName)}),Array.from(e).sort()}),y=c(()=>{let e=Array.isArray(p.value)?p.value:[];if(g.value){const o=g.value.toLowerCase();e=e.filter(s=>{const u=s.title?.ka||"",v=s.title?.en||"",B=s.mediaName||"";return u.toLowerCase().includes(o)||v.toLowerCase().includes(o)||B.toLowerCase().includes(o)})}return h.value&&(e=e.filter(o=>o.mediaName===h.value)),d.category&&(e=e.filter(o=>o.category===d.category)),e}),R=c(()=>{const e=(i.value-1)*k,o=e+k;return y.value.slice(e,o)}),f=c(()=>Math.ceil(y.value.length/k)),U=c(()=>{const e=[];let s=Math.max(1,i.value-Math.floor(2.5)),u=Math.min(f.value,s+5-1);u-s<4&&(s=Math.max(1,u-5+1));for(let v=s;v<=u;v++)e.push(v);return e}),j=e=>{if(d.limit)return;const o={...N.query};e>1?o.page=String(e):delete o.page,T.replace({query:o})};return L(i,e=>{j(e)}),L([g,h],()=>{i.value=1}),E(async()=>{const e=parseInt(N.query.page);!d.limit&&e&&e>0&&(i.value=e),C.value||await b.fetchArticles()}),(e,o)=>(r(),l("div",re,[t("div",le,[t("div",ie,[t("div",ne,[t("label",de,a(e.$t("common.search")),1),t("div",ce,[m(n(ee),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),M(t("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>g.value=s),type:"text",placeholder:e.$t("press.searchPlaceholder"),class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,8,ue),[[z,g.value]])])]),t("div",me,[t("label",pe,a(e.$t("press.mediaFilter")),1),M(t("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>h.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[t("option",ge,a(e.$t("common.all")),1),(r(!0),l(_,null,x(V.value,s=>(r(),l("option",{key:s,value:s},a(s),9,he))),128))],512),[[F,h.value]])])]),t("div",ve,a(e.$t("press.showingResults",{count:y.value.length,total:p.value.length||0})),1)]),C.value?y.value.length>0?(r(),l("div",_e,[t("div",xe,[t("div",be,[t("div",we,a(e.$t("press.articleTitle")),1),t("div",ke,a(e.$t("press.mediaName")),1),t("div",$e,a(e.$t("press.link")),1),t("div",Pe,a(e.$t("press.mediaLogo")),1)])]),t("div",Ne,[(r(!0),l(_,null,x(R.value,s=>(r(),l("div",{key:s.id,class:"grid grid-cols-12 gap-6 px-6 py-5 hover:bg-gray-50 transition-colors items-center"},[t("div",Ce,[t("h3",Le,a(s.title?.[e.$i18n.locale]||s.title?.ka||s.title?.en||""),1),t("p",Me,a(n(Z)(s.publishedAt,n(P))),1)]),t("div",Se,[t("p",Ae,a(s.mediaName||s.category),1)]),t("div",qe,[s.externalUrl?(r(),l("a",{key:0,href:s.externalUrl,target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center text-sm text-primary-600 hover:text-primary-700 font-medium"},[m(n(ae),{class:"w-4 h-4 mr-1"}),t("span",Ve,a(e.$t("press.viewArticle")),1)],8,Te)):(r(),S(n(J),{key:1,to:{name:"press-article",params:{slug:s.slug}},class:"inline-flex items-center text-sm text-primary-600 hover:text-primary-700 font-medium"},{default:K(()=>[Q(a(e.$t("press.readMore")),1)]),_:1},8,["to"]))]),t("div",Re,[t("div",Ue,[s.mediaLogo?(r(),l("img",{key:0,src:n(Y)(s.mediaLogo),alt:s.mediaName||"Media logo",class:"w-full h-full object-contain p-2"},null,8,je)):(r(),S(n(A),{key:1,class:"w-8 h-8 text-gray-400"}))])])]))),128))]),f.value>1?(r(),l("div",Be,[t("div",De,[t("div",Ee,a(e.$t("press.page"))+" "+a(i.value)+" "+a(e.$t("press.of"))+" "+a(f.value),1),t("div",Ie,[t("button",{onClick:o[2]||(o[2]=s=>i.value--),disabled:i.value===1,class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[m(n(se),{class:"w-4 h-4"})],8,ze),(r(!0),l(_,null,x(U.value,s=>(r(),l("button",{key:s,onClick:u=>i.value=s,class:O(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",s===i.value?"bg-primary-500 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-100"])},a(s),11,Fe))),128)),t("button",{onClick:o[3]||(o[3]=s=>i.value++),disabled:i.value===f.value,class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[m(n(te),{class:"w-4 h-4"})],8,Ge)])])])):G("",!0)])):(r(),l("div",He,[m(n(A),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t("h3",Ke,a(e.$t("common.noResults")),1),t("p",Qe,a(e.$t("press.noPressAvailable")),1)])):(r(),l("div",ye,[t("div",fe,[(r(),l(_,null,x(10,s=>t("div",{key:s,class:"p-6"},[...o[4]||(o[4]=[H('<div class="flex items-center gap-6"><div class="skeleton h-16 w-16 rounded-lg"></div><div class="flex-1 space-y-2"><div class="skeleton h-6 w-3/4"></div><div class="skeleton h-4 w-1/2"></div></div></div>',1)])])),64))])]))]))}}),Oe={class:"container-fluid py-12"},We={class:"text-4xl font-bold mb-8"},Xe={class:"text-xl text-gray-600 max-w-3xl mb-8"},ds=q({__name:"PressList",setup($){return(d,P)=>(r(),l("div",Oe,[t("h1",We,a(d.$t("press.title")),1),t("p",Xe,a(d.$t("press.subtitle")),1),m(Je)]))}});export{ds as default};
