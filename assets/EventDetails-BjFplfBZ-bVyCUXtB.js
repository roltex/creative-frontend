import{x as T,s as A,k as c,u as L,o as M,i as z,T as i,y as o,w as $,b as e,a as n,t,e as E,z as H,A as r,C as u,g as p}from"./index-D4giqbAF.js";import{c as I}from"./imageUrl-TKHrL0N0-B9Kjf6s3.js";import{M as _,v as C}from"./dateFormat-DGm57d66-C0i5cCne.js";import{$ as F}from"./events-BOXGSIJ_-DxGutxoK.js";import{a as U}from"./calendar-B8aAkZ6w-BiA40Wd3.js";import{r as j}from"./map-pin-DdOUgARW-DMBLao3k.js";import{t as q}from"./chevron-left-DZZ_sQ0y-Djdz647I.js";import"./axios-BfW3-H3C-LYHUv-HN.js";import"./createLucideIcon-B8jW4fWM-Bxg4yWq8.js";import"./notifications-Cw33WVIa-BqNy21BL.js";const D={class:"container-fluid py-8 lg:py-8"},R={key:0},B={key:1,class:"text-center py-20"},G={class:"text-red-600 mb-4"},J={key:2},K={class:"bg-white rounded-3xl shadow-lg overflow-hidden mb-8"},N={class:"relative h-96 lg:h-[500px]"},O=["src","alt"],P={class:"absolute bottom-0 left-0 right-0 p-8 lg:p-12 text-white"},Q={class:"max-w-4xl"},S={class:"flex items-center gap-3 mb-4"},W={class:"px-4 py-2 bg-secondary-500 rounded-full text-sm font-semibold"},X={class:"text-4xl lg:text-5xl font-bold mb-4 font-headline"},Y={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Z={class:"lg:col-span-2"},V={class:"bg-white rounded-3xl shadow-lg p-8 lg:p-12"},ee={class:"text-3xl font-bold text-gray-900 mb-6 font-headline"},le={class:"prose prose-lg max-w-none text-gray-700"},se=["innerHTML"],ae=["innerHTML"],te={class:"lg:col-span-1"},ie={class:"bg-white rounded-3xl shadow-lg p-6"},oe={class:"space-y-4"},de={class:"text-sm text-gray-600 mb-1 flex items-center"},ne={class:"ml-6"},re={key:0,class:"text-base font-semibold text-gray-900 mb-1"},ve={key:1,class:"text-sm text-gray-600"},ce={class:"pt-4 border-t border-gray-200"},ue={class:"text-sm text-gray-600 mb-1 flex items-center"},me={class:"text-base font-semibold text-gray-900 ml-6 mb-3"},ge={class:"mt-3 ml-6 rounded-lg overflow-hidden border border-gray-200"},pe=["src"],ze=T({__name:"EventDetails",setup(he){const h=M(),b=z(),{locale:f}=A(),x=F(),l=c(null),v=c(!0),d=c(null),w=s=>({workshop:"ვორქშოპი",exhibition:"გამოფენა",conference:"კონფერენცია",other:"ღონისძიება"})[s]||"ღონისძიება",m=s=>_(s,f.value),g=s=>C(s),y=s=>`https://maps.google.com/maps?q=${encodeURIComponent(s)}&t=&z=15&ie=UTF8&iwloc=&output=embed`;return L(async()=>{const s=h.params.slug;v.value=!0,d.value=null;try{const a=await x.fetchEventBySlug(s);a?l.value=a:(d.value="Event not found",b.push({name:"events"}))}catch(a){d.value=a.message||"Failed to load event",console.error("Error loading event:",a)}finally{v.value=!1}}),(s,a)=>{const k=H("RouterLink");return o(),i("div",D,[v.value?(o(),i("div",R,[...a[0]||(a[0]=[$('<div class="bg-white rounded-3xl shadow-lg overflow-hidden mb-8"><div class="relative h-96 lg:h-[500px]"><div class="absolute inset-0 skeleton"></div><div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div><div class="absolute bottom-0 left-0 right-0 p-8 lg:p-12"><div class="max-w-4xl"><div class="skeleton h-8 w-32 mb-4 bg-white/20"></div><div class="skeleton h-12 w-3/4 mb-4 bg-white/20"></div></div></div></div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-2"><div class="bg-white rounded-3xl shadow-lg p-8 lg:p-12"><div class="skeleton h-10 w-64 mb-6"></div><div class="space-y-4"><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-5/6"></div><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-4/5"></div></div></div></div><div class="lg:col-span-1"><div class="bg-white rounded-3xl shadow-lg p-6"><div class="skeleton h-7 w-32 mb-4"></div><div class="space-y-4"><div><div class="skeleton h-4 w-24 mb-2"></div><div class="ml-6 space-y-2"><div class="skeleton h-5 w-48"></div><div class="skeleton h-4 w-20"></div></div></div><div class="pt-4 border-t border-gray-200"><div class="skeleton h-4 w-20 mb-2"></div><div class="ml-6"><div class="skeleton h-5 w-40 mb-3"></div><div class="skeleton h-[200px] w-full rounded-lg"></div></div></div></div></div></div></div>',2)])])):d.value?(o(),i("div",B,[e("p",G,t(d.value),1),n(k,{to:{name:"events"},class:"inline-flex items-center text-primary-600 hover:text-primary-700"},{default:E(()=>[n(r(q),{class:"w-5 h-5 mr-2"}),e("span",null,t(s.$t("common.back")),1)]),_:1})])):(o(),i("div",J,[e("div",K,[e("div",N,[e("img",{src:r(I)(l.value.image),alt:l.value.title[s.$i18n.locale],class:"w-full h-full object-cover"},null,8,O),a[1]||(a[1]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"},null,-1)),e("div",P,[e("div",Q,[e("div",S,[e("span",W,t(w(l.value.type)),1)]),e("h1",X,t(l.value.title[s.$i18n.locale]),1)])])])]),e("div",Y,[e("div",Z,[e("div",V,[e("h2",ee,t(s.$t("events.fullDescription")),1),e("div",le,[e("div",{class:"leading-relaxed mb-4",innerHTML:l.value.description[s.$i18n.locale]},null,8,se),l.value.details?(o(),i("div",{key:0,class:"leading-relaxed",innerHTML:l.value.details[s.$i18n.locale]},null,8,ae)):u("",!0)])])]),e("div",te,[e("div",ie,[a[2]||(a[2]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-4 font-headline"},"ინფორმაცია",-1)),e("div",oe,[e("div",null,[e("p",de,[n(r(U),{class:"w-4 h-4 mr-2"}),p(" "+t(s.$t("events.dateTime")),1)]),e("div",ne,[m(l.value.startAt)?(o(),i("p",re,t(m(l.value.startAt)),1)):u("",!0),g(l.value.startAt)?(o(),i("p",ve,t(g(l.value.startAt)),1)):u("",!0)])]),e("div",ce,[e("p",ue,[n(r(j),{class:"w-4 h-4 mr-2"}),p(" "+t(s.$t("events.location")),1)]),e("p",me,t(typeof l.value.location=="string"?l.value.location:l.value.location?.[s.$i18n.locale]||l.value.location?.ka||l.value.location?.en||""),1),e("div",ge,[e("iframe",{src:y(typeof l.value.location=="string"?l.value.location:l.value.location?.[s.$i18n.locale]||l.value.location?.ka||l.value.location?.en||""),width:"100%",height:"200",style:{border:"0"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"},null,8,pe)])])])])])])]))])}}});export{ze as default};
