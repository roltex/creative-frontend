import{a as x,b as S,r as j,c,D as B,o as $,f as l,g as a,F as y,k as w,h as e,q as b,s as D,i as h,j as g,t as n,l as V,w as z,m as R}from"./index-CCX3YhN4.js";import{g as E}from"./imageUrl-TKHrL0N0.js";import{u as N}from"./news-DtMtcKYm.js";import{_ as F}from"./Pagination.vue_vue_type_script_setup_true_lang-BjCNoP_f.js";import{N as k}from"./newspaper-DYJMouqG.js";import{f as H}from"./format-BcNypMxD.js";import"./axios-DQN4Zwk8.js";import"./notifications-DVBNOjZb.js";import"./chevron-left-yp093j1p.js";import"./createLucideIcon-Wv1xGKNk.js";import"./chevron-right-BTVGUM8P.js";const I={key:0,class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},T={key:1},U={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},q={class:"relative aspect-16-9 bg-gray-100 overflow-hidden"},G=["src","alt"],J={key:1,class:"w-full h-full flex items-center justify-center bg-gray-200"},K={class:"absolute top-4 left-4"},O={class:"px-3 py-1.5 bg-primary-500 text-white text-xs font-semibold rounded-full shadow-md uppercase tracking-wide"},Q={class:"absolute top-4 right-4 bg-white/95 backdrop-blur-sm rounded-lg px-3 py-2 shadow-lg"},W={class:"text-xs text-gray-600 text-center"},X={class:"absolute bottom-0 left-0 right-0 p-4"},Y={class:"text-lg font-bold text-white mb-1 line-clamp-2 group-hover:text-primary-200 transition-colors"},Z={class:"p-6 bg-white"},tt={class:"text-gray-600 mb-4 line-clamp-3"},et={class:"flex items-center justify-end"},st={class:"text-primary-500 hover:text-primary-600 font-medium text-sm"},ot={key:2,class:"text-center py-12"},at={class:"text-lg font-semibold text-gray-900 mb-2"},it={class:"text-gray-600"},v=9,lt=x({__name:"NewsGrid",props:{limit:{},category:{}},setup(f){const i=f;S();const r=N(),d=j(1),u=c(()=>r.articles),m=c(()=>r.initialized),P=c(()=>r.loading),p=c(()=>{let t=u.value||[];return i.category&&(t=t.filter(o=>o.category===i.category)),i.limit?t.slice(0,i.limit):t}),M=c(()=>{if(i.limit)return p.value;const t=(d.value-1)*v,o=t+v;return p.value.slice(t,o)}),_=c(()=>i.limit?1:Math.ceil(p.value.length/v));B(()=>i.category,()=>{d.value=1});const A=t=>H(new Date(t),"MMM dd, yyyy"),C=t=>{const o=document.createElement("div");return o.innerHTML=t,o.textContent||o.innerText||""};return $(async()=>{m.value||await r.fetchArticles()}),(t,o)=>{const L=R("RouterLink");return a(),l("div",null,[P.value||!m.value?(a(),l("div",I,[(a(!0),l(y,null,w(t.limit||6,s=>(a(),l("div",{key:s,class:"card"},[...o[1]||(o[1]=[V('<div class="aspect-16-9 skeleton"></div><div class="p-6 space-y-3"><div class="skeleton h-4 w-20"></div><div class="skeleton h-6 w-full"></div><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-1/3"></div></div>',2)])]))),128))])):m.value&&u.value&&u.value.length>0?(a(),l("div",T,[e("div",U,[(a(!0),l(y,null,w(M.value,s=>(a(),b(L,{key:s.id,to:{name:"news-article",params:{slug:s.slug}},class:"card-hover group block"},{default:z(()=>[e("div",q,[s.image?(a(),l("img",{key:0,src:g(E)(s.image),alt:s.title[t.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,G)):(a(),l("div",J,[h(g(k),{class:"w-16 h-16 text-gray-400"})])),o[2]||(o[2]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"},null,-1)),e("div",K,[e("span",O,n(s.category),1)]),e("div",Q,[e("div",W,n(A(s.published_at||s.publishedAt)),1)]),e("div",X,[e("h3",Y,n(s.title[t.$i18n.locale]),1)])]),e("div",Z,[e("p",tt,n(s.excerpt?.[t.$i18n.locale]||C(s.content?.[t.$i18n.locale]||"").substring(0,150)+"..."),1),e("div",et,[e("span",st,n(t.$t("news.readMore"))+" â†’ ",1)])])]),_:2},1032,["to"]))),128))]),!t.limit&&_.value>1?(a(),b(F,{key:0,currentPage:d.value,"onUpdate:currentPage":o[0]||(o[0]=s=>d.value=s),totalPages:_.value,class:"mt-8"},null,8,["currentPage","totalPages"])):D("",!0)])):(a(),l("div",ot,[h(g(k),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e("h3",at,n(t.$t("common.noResults")),1),e("p",it,n(t.$t("news.noNewsAvailable")),1)]))])}}}),nt={class:"container-fluid py-12"},rt={class:"text-4xl font-bold mb-8"},wt=x({__name:"NewsList",setup(f){const i=N();return $(async()=>{i.initialized||await i.fetchArticles()}),(r,d)=>(a(),l("div",nt,[e("h1",rt,n(r.$t("news.title")),1),h(lt)]))}});export{wt as default};
