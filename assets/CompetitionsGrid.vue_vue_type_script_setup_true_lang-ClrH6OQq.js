import{a as C,b as P,c as D,f as o,g as e,h as a,j as u,i as y,n as N,t as c,s as k,w as L,p as M,m as T,l as V,r as f,D as w,o as j,F as b,k as $,q as _}from"./index-DoQH4Jq_.js";import{g as B}from"./imageUrl-TKHrL0N0.js";import{T as x}from"./trophy-DshidsTV.js";import{C as F}from"./calendar-B7aGbe-r.js";import{f as R}from"./format-BcNypMxD.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as E}from"./Pagination.vue_vue_type_script_setup_true_lang-ChpE00gg.js";import{a as H}from"./axios-D3CgtaHi.js";const I={class:"card-hover group"},U={class:"aspect-16-9 bg-gray-100 relative overflow-hidden"},q=["src","alt"],z={key:1,class:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary-100 to-primary-200"},A={class:"absolute top-4 right-4"},G={class:"p-6"},O={key:0,class:"text-xs text-primary-500 font-semibold uppercase tracking-wide mb-2"},J={class:"text-xl font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-primary-500 transition-colors"},K=["innerHTML"],Q={class:"space-y-2 mb-4"},W={key:0,class:"flex items-center text-sm text-gray-500"},X=C({__name:"CompetitionCard",props:{competition:{}},setup(g){const s=g;P();const m=D(()=>{switch(s.competition.status){case"current":return"bg-green-100 text-green-800";case"upcoming":return"bg-primary-100 text-primary-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}),d=t=>{if(!t)return"";try{const i=new Date(t);return isNaN(i.getTime())?"":R(i,"MMM dd, yyyy")}catch(i){return console.error("Error formatting date:",i,t),""}};return(t,i)=>{const v=T("RouterLink");return e(),o("article",I,[a("div",U,[t.competition.image?(e(),o("img",{key:0,src:u(B)(t.competition.image),alt:t.competition.title[t.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,q)):(e(),o("div",z,[y(u(x),{class:"w-16 h-16 text-primary-500"})])),a("div",A,[a("span",{class:N(["px-3 py-1 rounded-full text-xs font-semibold",m.value])},c(t.$t(`competitions.status.${t.competition.status}`)),3)])]),a("div",G,[t.competition.category?(e(),o("div",O,c(t.competition.category),1)):k("",!0),a("h3",J,c(t.competition.title[t.$i18n.locale]),1),a("div",{class:"text-gray-600 mb-4 line-clamp-3 prose prose-sm max-w-none",innerHTML:t.competition.description[t.$i18n.locale]},null,8,K),a("div",Q,[t.competition.end_date||t.competition.endDate?(e(),o("div",W,[y(u(F),{class:"w-4 h-4 mr-2"}),a("span",null,c(t.$t("competitions.deadline"))+": "+c(d(t.competition.end_date||t.competition.endDate)),1)])):k("",!0)]),y(v,{to:{name:"competition-details",params:{slug:t.competition.slug}},class:"btn-primary w-full text-center"},{default:L(()=>[M(c(t.competition.status==="current"?t.$t("competitions.apply"):t.$t("common.viewDetails")),1)]),_:1},8,["to"])])])}}}),Y={},Z={class:"card"};function tt(g,s){return e(),o("div",Z,[...s[0]||(s[0]=[V('<div class="aspect-16-9 skeleton"></div><div class="p-6 space-y-3"><div class="skeleton h-4 w-20"></div><div class="skeleton h-6 w-full"></div><div class="space-y-2"><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-3/4"></div></div><div class="space-y-2"><div class="skeleton h-4 w-2/3"></div><div class="skeleton h-4 w-1/2"></div></div><div class="skeleton h-10 w-full rounded-full"></div></div>',2)])])}const et=S(Y,[["render",tt]]),st={key:0,class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},ot={key:1},at={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},it={key:2,class:"text-center py-12"},rt={class:"text-lg font-semibold text-gray-900 mb-2"},nt={class:"text-gray-600"},ft=C({__name:"CompetitionsGrid",props:{limit:{},status:{}},setup(g){const s=g,m=f([]),d=f(!1),t=f(1),i=f(1),v=s.limit||9,h=async(n=1)=>{d.value=!0;try{let r="/competitions";const l={page:n,per_page:v};s.status==="current"?r="/competitions/current":s.status==="completed"||s.status==="archive"?r="/competitions/completed":s.status==="upcoming"&&(r="/competitions/upcoming");const p=await H.get(r,{params:l});p.data.success&&(m.value=p.data.data||[],p.data.meta?(t.value=p.data.meta.current_page||n,i.value=p.data.meta.last_page||1):i.value=1)}catch(r){console.error("Failed to fetch competitions:",r),m.value=[]}finally{d.value=!1}};return w(t,n=>{s.limit||h(n)}),w(()=>s.status,()=>{t.value=1,h(1)}),j(()=>{h(1)}),(n,r)=>(e(),o("div",null,[d.value?(e(),o("div",st,[(e(!0),o(b,null,$(u(v),l=>(e(),_(et,{key:l}))),128))])):m.value.length>0?(e(),o("div",ot,[a("div",at,[(e(!0),o(b,null,$(m.value,l=>(e(),_(X,{key:l.id,competition:l},null,8,["competition"]))),128))]),!n.limit&&i.value>1?(e(),_(E,{key:0,currentPage:t.value,"onUpdate:currentPage":r[0]||(r[0]=l=>t.value=l),totalPages:i.value,class:"mt-8"},null,8,["currentPage","totalPages"])):k("",!0)])):(e(),o("div",it,[y(u(x),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a("h3",rt,c(n.$t("common.noResults")),1),a("p",nt,c(n.$t("competitions.noActiveCompetitions")),1)]))]))}});export{ft as _};
