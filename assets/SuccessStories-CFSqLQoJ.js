import{a as C,b as F,r as d,D as N,o as R,M as V,f as r,g as l,h as e,s as b,t as o,F as y,k as x,q as w,i as S,w as h,j as i,R as p,l as q,p as k,A as B}from"./index-VM6629d9.js";import{g as I}from"./imageUrl-TKHrL0N0.js";import{a as U}from"./axios-uACRhx8-.js";import{_ as A}from"./Pagination.vue_vue_type_script_setup_true_lang-CDMGoe7d.js";import"./notifications-Bd7u-0kq.js";import"./chevron-left-CespMzIY.js";import"./createLucideIcon-CCpuv2HR.js";import"./chevron-right-0_EF-oGv.js";const D={class:"container-fluid py-8 lg:py-8"},L={class:"text-center mb-16"},M={class:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6 font-headline"},T={class:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed"},E={key:0,class:"animate-pulse"},z={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16"},G={key:1,class:"text-center py-20"},H={class:"text-2xl font-bold text-gray-900 mb-4"},J={class:"text-gray-600"},K={key:2},O={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8"},Q={class:"relative h-64 overflow-hidden"},W=["src","alt"],X={class:"absolute bottom-4 left-4 right-4"},Y={class:"text-2xl font-bold text-white mb-2 font-headline"},Z={class:"text-white/90 text-sm line-clamp-2"},ee={class:"p-6"},te={class:"text-gray-700 leading-relaxed mb-4"},se={class:"flex items-center justify-between"},ae={class:"text-sm text-gray-500"},oe={class:"text-primary-600 hover:text-primary-700 font-medium text-sm"},le={key:3,class:"text-center py-20"},re={class:"text-lg font-semibold text-gray-900 mb-2"},ie={class:"text-gray-600"},ne={key:4,class:"bg-gradient-to-r from-primary-500 to-secondary-500 rounded-3xl p-8 lg:p-12 text-white text-center"},ce={class:"text-3xl font-bold mb-4 font-headline"},de={class:"text-xl opacity-90 mb-8"},ue={class:"flex flex-col sm:flex-row gap-4 justify-center"},$=9,xe=C({__name:"SuccessStories",setup(ge){const{locale:u}=F(),f=V(),j=B(),g=d([]),m=d(!0),n=d(null),c=d(1),v=d(1),P=t=>{const s={...f.query};t>1?s.page=String(t):delete s.page,j.replace({query:s})},_=async(t=1)=>{m.value=!0,n.value=null;try{const s=await U.get("/success-stories",{params:{page:t,per_page:$}});s.data.success?(g.value=s.data.data||[],s.data.meta?(c.value=s.data.meta.current_page||t,v.value=s.data.meta.last_page||1):v.value=1):n.value="Failed to load success stories"}catch(s){console.error("Failed to fetch success stories:",s),n.value=s.message||"Failed to load success stories",g.value=[]}finally{m.value=!1}};return N(c,t=>{P(t),_(t)}),R(()=>{const t=parseInt(f.query.page),s=t&&t>0?t:1;c.value=s,_(s)}),(t,s)=>(l(),r("div",D,[e("div",L,[e("h1",M,o(t.$t("successStory.title")),1),e("p",T,o(t.$t("successStory.subtitle")),1)]),m.value?(l(),r("div",E,[e("div",z,[(l(),r(y,null,x($,a=>e("div",{key:a,class:"bg-white rounded-3xl shadow-lg overflow-hidden"},[...s[1]||(s[1]=[q('<div class="relative h-64 bg-gray-200"><div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div><div class="absolute bottom-4 left-4 right-4"><div class="h-8 bg-gray-300 rounded-lg mb-2 max-w-48"></div><div class="h-4 bg-gray-300 rounded w-32"></div></div></div><div class="p-6"><div class="space-y-2 mb-4"><div class="h-4 bg-gray-200 rounded w-full"></div><div class="h-4 bg-gray-200 rounded w-full"></div><div class="h-4 bg-gray-200 rounded w-3/4"></div></div><div class="flex items-center justify-between"><div class="h-4 bg-gray-200 rounded w-16"></div><div class="h-4 bg-gray-200 rounded w-24"></div></div></div>',2)])])),64))])])):n.value?(l(),r("div",G,[e("h2",H,o(t.$t("common.error")),1),e("p",J,o(n.value),1)])):g.value.length>0?(l(),r("div",K,[e("div",O,[(l(!0),r(y,null,x(g.value,a=>(l(),w(i(p),{key:a.id,to:{name:"success-story-details",params:{slug:a.slug}},class:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 group"},{default:h(()=>[e("div",Q,[e("img",{src:i(I)(a.image),alt:typeof a.name=="object"?a.name[i(u)]:a.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"},null,8,W),s[2]||(s[2]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"},null,-1)),e("div",X,[e("h3",Y,o(typeof a.name=="object"?a.name[i(u)]:a.name),1),e("p",Z,o(typeof a.category=="object"?a.category[i(u)]:a.category),1)])]),e("div",ee,[e("p",te,o(typeof a.description=="object"?a.description[i(u)]:a.description),1),e("div",se,[e("span",ae,o(a.year),1),e("span",oe,o(t.$t("successStory.moreInfo"))+" â†’ ",1)])])]),_:2},1032,["to"]))),128))]),v.value>1?(l(),w(A,{key:0,currentPage:c.value,"onUpdate:currentPage":s[0]||(s[0]=a=>c.value=a),totalPages:v.value,class:"mb-16"},null,8,["currentPage","totalPages"])):b("",!0)])):(l(),r("div",le,[e("h3",re,o(t.$t("common.noResults")),1),e("p",ie,o(t.$t("successStory.noStories")),1)])),m.value?b("",!0):(l(),r("section",ne,[e("h2",ce,o(t.$t("successStory.readyToCreate")),1),e("p",de,o(t.$t("successStory.joinCreative")),1),e("div",ue,[S(i(p),{to:{name:"competitions-current"},class:"px-8 py-4 bg-white text-primary-600 hover:bg-gray-100 rounded-full font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 font-headline"},{default:h(()=>[k(o(t.$t("successStory.viewCompetitions")),1)]),_:1}),S(i(p),{to:"/application",class:"px-8 py-4 bg-secondary-500 hover:bg-secondary-600 text-white rounded-full font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 font-headline"},{default:h(()=>[k(o(t.$t("successStory.fillApplication")),1)]),_:1})])]))]))}});export{xe as default};
