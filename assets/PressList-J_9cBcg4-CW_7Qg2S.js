import{x as I,T as i,y as r,b as t,a as m,t as l,s as E,I as n,k as w,J as N,u as J,o as W,v as L,A as d,W as z,p as B,c as f,S as b,C as F,E as j,e as G,g as H,j as Q,R as D,w as K,i as O}from"./index-D4giqbAF.js";import{w as X}from"./press-DUHyAmoK-BwGmbKvE.js";import{c as Y}from"./imageUrl-TKHrL0N0-B9Kjf6s3.js";import{Q as Z}from"./dateFormat-DGm57d66-C0i5cCne.js";import{r as ee}from"./search-ReAbfQk0-DqxdOWJn.js";import{t as ae}from"./chevron-left-DZZ_sQ0y-Djdz647I.js";import{h as te}from"./chevron-right-BSPrKCOI-DT4Lw4wL.js";import{p as q}from"./newspaper-CjZDrsx3-BhO_Yfvs.js";import{v as se}from"./createLucideIcon-B8jW4fWM-Bxg4yWq8.js";import"./axios-BfW3-H3C-LYHUv-HN.js";import"./notifications-Cw33WVIa-BqNy21BL.js";/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=se("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),re={class:"space-y-6"},ie={class:"bg-white rounded-2xl shadow-lg p-6"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},de={class:"md:col-span-1"},ce={class:"block text-sm font-medium text-gray-700 mb-2"},ne={class:"relative"},ue=["placeholder"],me={class:"md:col-span-1"},pe={class:"block text-sm font-medium text-gray-700 mb-2"},ve={value:""},ye=["value"],ge={class:"mt-4 text-sm text-gray-600"},xe={key:0,class:"bg-white rounded-2xl shadow-lg overflow-hidden"},fe={class:"divide-y divide-gray-200"},be={key:1,class:"bg-white rounded-2xl shadow-lg overflow-hidden"},he={class:"bg-gradient-to-r from-primary-500 to-primary-600 px-6 py-4"},we={class:"grid grid-cols-12 gap-6 text-white font-semibold text-sm"},ke={class:"col-span-4"},$e={class:"col-span-3"},Ae={class:"col-span-3"},Ce={class:"col-span-2 text-center"},Me={class:"divide-y divide-gray-200"},Ne={class:"col-span-4"},Le={class:"text-base font-semibold text-gray-900 line-clamp-2 mb-1"},je={class:"text-xs text-gray-500"},qe={class:"col-span-3"},Ie={class:"text-sm font-medium text-gray-700"},Pe={class:"col-span-3"},_e=["href"],Re={class:"truncate"},Te={class:"col-span-2 flex justify-center"},Ue={class:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center"},Se=["src","alt"],Ve={key:0,class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},Ee={class:"flex items-center justify-between"},Je={class:"text-sm text-gray-600"},We={class:"flex gap-2"},ze=["disabled"],Be=["onClick"],Fe=["disabled"],Ge={key:2,class:"text-center py-12 bg-white rounded-2xl shadow-lg"},He={class:"text-lg font-semibold text-gray-900 mb-2"},Qe={class:"text-gray-600"},k=10,De=I({__name:"PressGrid",props:{limit:{},category:{}},setup($){const c=$,{locale:A}=E(),C=W(),P=O(),h=X(),p=n(()=>h.articles),M=n(()=>h.initialized),v=w(""),y=w(""),o=w(1),_=n(()=>{const e=new Set;return(Array.isArray(p.value)?p.value:[]).forEach(s=>{s.mediaName&&e.add(s.mediaName)}),Array.from(e).sort()}),g=n(()=>{let e=Array.isArray(p.value)?p.value:[];if(v.value){const s=v.value.toLowerCase();e=e.filter(a=>{const u=a.title?.ka||"",S=a.title?.en||"",V=a.mediaName||"";return u.toLowerCase().includes(s)||S.toLowerCase().includes(s)||V.toLowerCase().includes(s)})}return y.value&&(e=e.filter(s=>s.mediaName===y.value)),c.category&&(e=e.filter(s=>s.category===c.category)),e}),R=n(()=>{const e=(o.value-1)*k,s=e+k;return g.value.slice(e,s)}),x=n(()=>Math.ceil(g.value.length/k)),T=n(()=>{const e=[];let s=Math.max(1,o.value-Math.floor(2.5)),a=Math.min(x.value,s+5-1);a-s<4&&(s=Math.max(1,a-5+1));for(let u=s;u<=a;u++)e.push(u);return e}),U=e=>{if(c.limit)return;const s={...C.query};e>1?s.page=String(e):delete s.page,P.replace({query:s})};return N(o,e=>{U(e)}),N([v,y],()=>{o.value=1}),J(async()=>{const e=parseInt(C.query.page);!c.limit&&e&&e>0&&(o.value=e),M.value||await h.fetchArticles()}),(e,s)=>(r(),i("div",re,[t("div",ie,[t("div",oe,[t("div",de,[t("label",ce,l(e.$t("common.search")),1),t("div",ne,[m(d(ee),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),L(t("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>v.value=a),type:"text",placeholder:e.$t("press.searchPlaceholder"),class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,8,ue),[[z,v.value]])])]),t("div",me,[t("label",pe,l(e.$t("press.mediaFilter")),1),L(t("select",{"onUpdate:modelValue":s[1]||(s[1]=a=>y.value=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[t("option",ve,l(e.$t("common.all")),1),(r(!0),i(f,null,b(_.value,a=>(r(),i("option",{key:a,value:a},l(a),9,ye))),128))],512),[[B,y.value]])])]),t("div",ge,l(e.$t("press.showingResults",{count:g.value.length,total:p.value.length||0})),1)]),M.value?g.value.length>0?(r(),i("div",be,[t("div",he,[t("div",we,[t("div",ke,l(e.$t("press.articleTitle")),1),t("div",$e,l(e.$t("press.mediaName")),1),t("div",Ae,l(e.$t("press.link")),1),t("div",Ce,l(e.$t("press.mediaLogo")),1)])]),t("div",Me,[(r(!0),i(f,null,b(R.value,a=>(r(),i("div",{key:a.id,class:"grid grid-cols-12 gap-6 px-6 py-5 hover:bg-gray-50 transition-colors items-center"},[t("div",Ne,[t("h3",Le,l(a.title?.[e.$i18n.locale]||a.title?.ka||a.title?.en||""),1),t("p",je,l(d(Z)(a.publishedAt,d(A))),1)]),t("div",qe,[t("p",Ie,l(a.mediaName||a.category),1)]),t("div",Pe,[a.externalUrl?(r(),i("a",{key:0,href:a.externalUrl,target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center text-sm text-primary-600 hover:text-primary-700 font-medium"},[m(d(le),{class:"w-4 h-4 mr-1"}),t("span",Re,l(e.$t("press.viewArticle")),1)],8,_e)):(r(),j(d(Q),{key:1,to:{name:"press-article",params:{slug:a.slug}},class:"inline-flex items-center text-sm text-primary-600 hover:text-primary-700 font-medium"},{default:G(()=>[H(l(e.$t("press.readMore")),1)]),_:1},8,["to"]))]),t("div",Te,[t("div",Ue,[a.mediaLogo?(r(),i("img",{key:0,src:d(Y)(a.mediaLogo),alt:a.mediaName||"Media logo",class:"w-full h-full object-contain p-2"},null,8,Se)):(r(),j(d(q),{key:1,class:"w-8 h-8 text-gray-400"}))])])]))),128))]),x.value>1?(r(),i("div",Ve,[t("div",Ee,[t("div",Je,l(e.$t("press.page"))+" "+l(o.value)+" "+l(e.$t("press.of"))+" "+l(x.value),1),t("div",We,[t("button",{onClick:s[2]||(s[2]=a=>o.value--),disabled:o.value===1,class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[m(d(ae),{class:"w-4 h-4"})],8,ze),(r(!0),i(f,null,b(T.value,a=>(r(),i("button",{key:a,onClick:u=>o.value=a,class:D(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",a===o.value?"bg-primary-500 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-100"])},l(a),11,Be))),128)),t("button",{onClick:s[3]||(s[3]=a=>o.value++),disabled:o.value===x.value,class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[m(d(te),{class:"w-4 h-4"})],8,Fe)])])])):F("",!0)])):(r(),i("div",Ge,[m(d(q),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t("h3",He,l(e.$t("common.noResults")),1),t("p",Qe,l(e.$t("press.noPressAvailable")),1)])):(r(),i("div",xe,[t("div",fe,[(r(),i(f,null,b(10,a=>t("div",{key:a,class:"p-6"},[...s[4]||(s[4]=[K('<div class="flex items-center gap-6"><div class="skeleton h-16 w-16 rounded-lg"></div><div class="flex-1 space-y-2"><div class="skeleton h-6 w-3/4"></div><div class="skeleton h-4 w-1/2"></div></div></div>',1)])])),64))])]))]))}}),Ke={class:"container-fluid py-12"},Oe={class:"text-4xl font-bold mb-8"},Xe={class:"text-xl text-gray-600 max-w-3xl mb-8"},ca=I({__name:"PressList",setup($){return(c,A)=>(r(),i("div",Ke,[t("h1",Oe,l(c.$t("press.title")),1),t("p",Xe,l(c.$t("press.subtitle")),1),m(De)]))}});export{ca as default};
