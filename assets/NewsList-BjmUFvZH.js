import{g as L}from"./imageUrl-TKHrL0N0.js";import{_ as M}from"./Pagination.vue_vue_type_script_setup_true_lang-BxMxvgrM.js";import{a as C}from"./axios-C60ofk__.js";import{N as y}from"./newspaper-wAZYv42e.js";import{a as $,r as p,D as w,o as N,f as r,g as o,F as b,k as x,j as g,h as e,q as k,s as j,i as v,t as n,l as B,w as D,m as S}from"./index-Byv4rXtu.js";import{f as V}from"./format-BcNypMxD.js";import{u as F}from"./news-ss4g6AkG.js";import"./chevron-left-D6ZlcaYb.js";import"./createLucideIcon-BhTFkdVQ.js";import"./chevron-right-UAH3BC6A.js";import"./notifications-CFHlLG-Q.js";const R={key:0,class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},E={key:1},H={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},T={class:"relative aspect-16-9 bg-gray-100 overflow-hidden"},U=["src","alt"],q={key:1,class:"w-full h-full flex items-center justify-center bg-gray-200"},z={class:"absolute top-4 left-4"},G={class:"px-3 py-1.5 bg-primary-500 text-white text-xs font-semibold rounded-full shadow-md uppercase tracking-wide"},I={class:"absolute top-4 right-4 bg-white/95 backdrop-blur-sm rounded-lg px-3 py-2 shadow-lg"},J={class:"text-xs text-gray-600 text-center"},K={class:"absolute bottom-0 left-0 right-0 p-4"},O={class:"text-lg font-bold text-white mb-1 line-clamp-2 group-hover:text-primary-200 transition-colors"},Q={class:"p-6 bg-white"},W={class:"text-gray-600 mb-4 line-clamp-3"},X={class:"flex items-center justify-end"},Y={class:"text-primary-500 hover:text-primary-600 font-medium text-sm"},Z={key:2,class:"text-center py-12"},tt={class:"text-lg font-semibold text-gray-900 mb-2"},et={class:"text-gray-600"},st=$({__name:"NewsGrid",props:{limit:{},category:{}},setup(h){const l=h,c=p([]),u=p(!1),d=p(1),m=p(1),_=l.limit||9,f=async(t=1)=>{u.value=!0;try{const s={page:t,per_page:_};l.category&&(s.category=l.category);const i=await C.get("/news",{params:s});i.data.success&&(c.value=Array.isArray(i.data.data)?i.data.data:[],i.data.meta?(d.value=i.data.meta.current_page||t,m.value=i.data.meta.last_page||1):m.value=1)}catch(s){console.error("Failed to fetch articles:",s),c.value=[]}finally{u.value=!1}};w(d,t=>{l.limit||f(t)}),w(()=>l.category,()=>{d.value=1,f(1)});const P=t=>{if(!t)return"";try{return V(new Date(t),"MMM dd, yyyy")}catch{return""}},A=t=>{if(!t)return"";const s=document.createElement("div");return s.innerHTML=t,s.textContent||s.innerText||""};return N(()=>{f(1)}),(t,s)=>{const i=S("RouterLink");return o(),r("div",null,[u.value?(o(),r("div",R,[(o(!0),r(b,null,x(g(_),a=>(o(),r("div",{key:a,class:"card"},[...s[1]||(s[1]=[B('<div class="aspect-16-9 skeleton"></div><div class="p-6 space-y-3"><div class="skeleton h-4 w-20"></div><div class="skeleton h-6 w-full"></div><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-1/3"></div></div>',2)])]))),128))])):c.value.length>0?(o(),r("div",E,[e("div",H,[(o(!0),r(b,null,x(c.value,a=>(o(),k(i,{key:a.id,to:{name:"news-article",params:{slug:a.slug}},class:"card-hover group block"},{default:D(()=>[e("div",T,[a.image?(o(),r("img",{key:0,src:g(L)(a.image),alt:a.title[t.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,U)):(o(),r("div",q,[v(g(y),{class:"w-16 h-16 text-gray-400"})])),s[2]||(s[2]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"},null,-1)),e("div",z,[e("span",G,n(a.category),1)]),e("div",I,[e("div",J,n(P(a.published_at||a.publishedAt)),1)]),e("div",K,[e("h3",O,n(a.title[t.$i18n.locale]),1)])]),e("div",Q,[e("p",W,n(a.excerpt?.[t.$i18n.locale]||A(a.content?.[t.$i18n.locale]||"").substring(0,150)+"..."),1),e("div",X,[e("span",Y,n(t.$t("news.readMore"))+" â†’ ",1)])])]),_:2},1032,["to"]))),128))]),!t.limit&&m.value>1?(o(),k(M,{key:0,currentPage:d.value,"onUpdate:currentPage":s[0]||(s[0]=a=>d.value=a),totalPages:m.value,class:"mt-8"},null,8,["currentPage","totalPages"])):j("",!0)])):(o(),r("div",Z,[v(g(y),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e("h3",tt,n(t.$t("common.noResults")),1),e("p",et,n(t.$t("news.noNewsAvailable")),1)]))])}}}),at={class:"container-fluid py-12"},ot={class:"text-4xl font-bold mb-8"},vt=$({__name:"NewsList",setup(h){const l=F();return N(async()=>{l.initialized||await l.fetchArticles()}),(c,u)=>(o(),r("div",at,[e("h1",ot,n(c.$t("news.title")),1),v(st)]))}});export{vt as default};
