import{x as C,s as I,k as n,T as r,J as T,u as q,o as A,y as o,b as e,C as b,t as l,c as h,S as w,E as S,a as k,e as y,A as i,j as p,i as E,w as F,g as $}from"./index-D4giqbAF.js";import{c as G}from"./imageUrl-TKHrL0N0-B9Kjf6s3.js";import{o as J}from"./axios-BfW3-H3C-LYHUv-HN.js";import{G as z}from"./Pagination.vue_vue_type_script_setup_true_lang-lJ1Wg4k0-DlS3vl8i.js";import"./notifications-Cw33WVIa-BqNy21BL.js";import"./chevron-left-DZZ_sQ0y-Djdz647I.js";import"./createLucideIcon-B8jW4fWM-Bxg4yWq8.js";import"./chevron-right-BSPrKCOI-DT4Lw4wL.js";const D={class:"container-fluid py-8 lg:py-8"},H={class:"text-center mb-16"},K={class:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6 font-headline"},L={class:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed"},M={key:0,class:"animate-pulse"},N={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16"},O={key:1,class:"text-center py-20"},Q={class:"text-2xl font-bold text-gray-900 mb-4"},R={class:"text-gray-600"},U={key:2},W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8"},X={class:"relative h-64 overflow-hidden"},Y=["src","alt"],Z={class:"absolute bottom-4 left-4 right-4"},B={class:"text-2xl font-bold text-white mb-2 font-headline"},V={class:"text-white/90 text-sm line-clamp-2"},ee={class:"p-6"},te={class:"text-gray-700 leading-relaxed mb-4"},se={class:"flex items-center justify-between"},ae={class:"text-sm text-gray-500"},le={class:"text-primary-600 hover:text-primary-700 font-medium text-sm"},oe={key:3,class:"text-center py-20"},re={class:"text-lg font-semibold text-gray-900 mb-2"},ie={class:"text-gray-600"},ce={key:4,class:"bg-gradient-to-r from-primary-500 to-secondary-500 rounded-3xl p-8 lg:p-12 text-white text-center"},de={class:"text-3xl font-bold mb-4 font-headline"},ne={class:"text-xl opacity-90 mb-8"},ue={class:"flex flex-col sm:flex-row gap-4 justify-center"},j=9,we=C({__name:"SuccessStories",setup(ge){const{locale:u}=I(),x=A(),_=E(),g=n([]),m=n(!0),c=n(null),d=n(1),v=n(1),P=t=>{const s={...x.query};t>1?s.page=String(t):delete s.page,_.replace({query:s})},f=async(t=1)=>{m.value=!0,c.value=null;try{const s=await J.get("/success-stories",{params:{page:t,per_page:j}});s.data.success?(g.value=s.data.data||[],s.data.meta?(d.value=s.data.meta.current_page||t,v.value=s.data.meta.last_page||1):v.value=1):c.value="Failed to load success stories"}catch(s){console.error("Failed to fetch success stories:",s),c.value=s.message||"Failed to load success stories",g.value=[]}finally{m.value=!1}};return T(d,t=>{P(t),f(t)}),q(()=>{const t=parseInt(x.query.page),s=t&&t>0?t:1;d.value=s,f(s)}),(t,s)=>(o(),r("div",D,[e("div",H,[e("h1",K,l(t.$t("successStory.title")),1),e("p",L,l(t.$t("successStory.subtitle")),1)]),m.value?(o(),r("div",M,[e("div",N,[(o(),r(h,null,w(j,a=>e("div",{key:a,class:"bg-white rounded-3xl shadow-lg overflow-hidden"},[...s[1]||(s[1]=[F('<div class="relative h-64 bg-gray-200"><div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div><div class="absolute bottom-4 left-4 right-4"><div class="h-8 bg-gray-300 rounded-lg mb-2 max-w-48"></div><div class="h-4 bg-gray-300 rounded w-32"></div></div></div><div class="p-6"><div class="space-y-2 mb-4"><div class="h-4 bg-gray-200 rounded w-full"></div><div class="h-4 bg-gray-200 rounded w-full"></div><div class="h-4 bg-gray-200 rounded w-3/4"></div></div><div class="flex items-center justify-between"><div class="h-4 bg-gray-200 rounded w-16"></div><div class="h-4 bg-gray-200 rounded w-24"></div></div></div>',2)])])),64))])])):c.value?(o(),r("div",O,[e("h2",Q,l(t.$t("common.error")),1),e("p",R,l(c.value),1)])):g.value.length>0?(o(),r("div",U,[e("div",W,[(o(!0),r(h,null,w(g.value,a=>(o(),S(i(p),{key:a.id,to:{name:"success-story-details",params:{slug:a.slug}},class:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 group"},{default:y(()=>[e("div",X,[e("img",{src:i(G)(a.image),alt:typeof a.name=="object"?a.name[i(u)]:a.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"},null,8,Y),s[2]||(s[2]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"},null,-1)),e("div",Z,[e("h3",B,l(typeof a.name=="object"?a.name[i(u)]:a.name),1),e("p",V,l(typeof a.category=="object"?a.category[i(u)]:a.category),1)])]),e("div",ee,[e("p",te,l(typeof a.description=="object"?a.description[i(u)]:a.description),1),e("div",se,[e("span",ae,l(a.year),1),e("span",le,l(t.$t("successStory.moreInfo"))+" â†’ ",1)])])]),_:2},1032,["to"]))),128))]),v.value>1?(o(),S(z,{key:0,currentPage:d.value,"onUpdate:currentPage":s[0]||(s[0]=a=>d.value=a),totalPages:v.value,class:"mb-16"},null,8,["currentPage","totalPages"])):b("",!0)])):(o(),r("div",oe,[e("h3",re,l(t.$t("common.noResults")),1),e("p",ie,l(t.$t("successStory.noStories")),1)])),m.value?b("",!0):(o(),r("section",ce,[e("h2",de,l(t.$t("successStory.readyToCreate")),1),e("p",ne,l(t.$t("successStory.joinCreative")),1),e("div",ue,[k(i(p),{to:{name:"competitions-current"},class:"px-8 py-4 bg-white text-primary-600 hover:bg-gray-100 rounded-full font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 font-headline"},{default:y(()=>[$(l(t.$t("successStory.viewCompetitions")),1)]),_:1}),k(i(p),{to:"/application",class:"px-8 py-4 bg-secondary-500 hover:bg-secondary-600 text-white rounded-full font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 font-headline"},{default:y(()=>[$(l(t.$t("successStory.fillApplication")),1)]),_:1})])]))]))}});export{we as default};
