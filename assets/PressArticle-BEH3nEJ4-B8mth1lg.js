import{x as N,s as P,I as b,k as S,u as Q,o as M,T as s,y as a,C as n,A as i,b as e,t as o,c as v,S as y,a as g,e as w,z as V,g as k,l as $}from"./index-D4giqbAF.js";import{c as p}from"./imageUrl-TKHrL0N0-B9Kjf6s3.js";import{Q as C}from"./dateFormat-DGm57d66-C0i5cCne.js";import{w as D}from"./press-DUHyAmoK-BwGmbKvE.js";import{c as E}from"./x-CfdvhGPO-CHa-oTZv.js";import{t as H}from"./chevron-left-DZZ_sQ0y-Djdz647I.js";import{h as J}from"./chevron-right-BSPrKCOI-DT4Lw4wL.js";import{o as K}from"./clock-DCMJHrSj-BoRgaCIq.js";import"./axios-BfW3-H3C-LYHUv-HN.js";import"./createLucideIcon-B8jW4fWM-Bxg4yWq8.js";import"./notifications-Cw33WVIa-BqNy21BL.js";const O={class:"container-fluid py-12"},U={key:0,class:"text-center py-12"},W={key:1,class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},X={class:"lg:col-span-3"},Y={class:"mb-8"},Z={class:"mb-4"},q={class:"inline-block px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-semibold"},G={class:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6 font-headline"},ee={class:"flex items-center space-x-4 text-gray-600"},le={key:0},te={key:0,class:"mb-8"},se=["src","alt"],ae={class:"prose prose-lg max-w-none mb-8"},re={class:"text-lg text-gray-700 leading-relaxed whitespace-pre-line"},oe={key:1,class:"mb-8"},ie={class:"text-2xl font-bold text-gray-900 mb-4 font-headline"},ce={class:"grid grid-cols-2 gap-4"},ne=["onClick"],ue=["src","alt"],de={key:2,class:"mt-8 pt-8 border-t border-gray-200"},ge={class:"flex flex-wrap gap-2"},pe={class:"mt-8"},me={class:"lg:col-span-1"},ve={class:"sticky top-8 space-y-6"},ye={class:"bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm"},xe={class:"bg-gradient-to-r from-primary-500 to-primary-600 p-4"},fe={class:"text-lg font-bold text-white font-headline flex items-center"},he={class:"p-4"},be={key:0,class:"space-y-4"},we={key:0,class:"aspect-16-9 overflow-hidden rounded-lg mb-2 shadow-sm"},ke=["src","alt"],$e={class:"px-1"},Ce={class:"inline-block px-2 py-1 bg-primary-50 text-primary-600 rounded-md text-xs font-semibold mb-2"},Ae={class:"text-sm font-semibold text-gray-900 group-hover:text-primary-600 line-clamp-2 mb-2 leading-snug transition-colors"},je={class:"text-xs text-gray-500 flex items-center"},Ie={key:1,class:"text-center py-8 text-gray-500"},_e={class:"text-sm"},Re={class:"bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm"},Se={class:"bg-gradient-to-r from-secondary-500 to-secondary-600 p-4"},Te={class:"text-lg font-bold text-white font-headline flex items-center"},ze={class:"p-4"},Be={key:0,class:"space-y-3"},Fe={key:0,class:"flex-shrink-0 w-16 h-16 overflow-hidden rounded-lg"},Le=["src","alt"],Ne={class:"flex-1 min-w-0"},Pe={class:"text-sm font-semibold text-gray-900 group-hover:text-primary-600 line-clamp-2 leading-snug transition-colors"},Qe={class:"text-xs text-gray-500 mt-1"},Me={key:2,class:"text-center py-12"},Ve={class:"text-gray-600"},De=["src","alt"],ll=N({__name:"PressArticle",setup(Ee){const A=M(),{locale:x}=P(),j=D(),{loading:T,currentArticle:z,articles:m}=j,t=b(()=>z||m.find(l=>l.slug===A.params.slug)),I=b(()=>{if(!t.value)return[];const l=m.filter(d=>d.id!==t.value.id&&d.category===t.value.category);if(l.length>=3)return l.slice(0,3);const c=m.filter(d=>d.id!==t.value.id);return[...l,...c].slice(0,3)}),_=b(()=>m.filter(l=>l.id!==t.value?.id).sort((l,c)=>(c.viewCount||0)-(l.viewCount||0)).slice(0,3)),f=S(!1),u=S(0),B=l=>{u.value=l,f.value=!0},R=()=>{f.value=!1},F=()=>{t.value?.gallery&&u.value<t.value.gallery.length-1&&u.value++},L=()=>{u.value>0&&u.value--};return Q(async()=>{const l=A.params.slug;l&&!t.value&&await j.fetchArticleBySlug(l)}),(l,c)=>{const d=V("RouterLink");return a(),s("div",O,[i(T)?(a(),s("div",U,[...c[1]||(c[1]=[e("div",{class:"skeleton h-12 w-3/4 mx-auto mb-8"},null,-1),e("div",{class:"skeleton h-4 w-full mb-4"},null,-1),e("div",{class:"skeleton h-4 w-full mb-4"},null,-1),e("div",{class:"skeleton h-4 w-3/4"},null,-1)])])):t.value?(a(),s("div",W,[e("article",X,[e("header",Y,[e("div",Z,[e("span",q,o(t.value.category),1)]),e("h1",G,o(t.value.title[l.$i18n.locale]),1),e("div",ee,[e("span",null,o(i(C)(t.value.publishedAt,i(x))),1),t.value.viewCount?(a(),s("span",le,"• "+o(t.value.viewCount)+" "+o(l.$t("press.views")),1)):n("",!0)])]),t.value.image?(a(),s("div",te,[e("img",{src:i(p)(t.value.image),alt:t.value.title[l.$i18n.locale],class:"w-full h-auto rounded-2xl"},null,8,se)])):n("",!0),e("div",ae,[e("p",re,o(t.value.content[l.$i18n.locale]),1)]),t.value.gallery&&t.value.gallery.length>0?(a(),s("div",oe,[e("h2",ie,o(l.$t("press.gallery")),1),e("div",ce,[(a(!0),s(v,null,y(t.value.gallery,(r,h)=>(a(),s("div",{key:h,class:"aspect-4-3 overflow-hidden rounded-xl cursor-pointer group",onClick:He=>B(h)},[e("img",{src:i(p)(r),alt:`${t.value.title[l.$i18n.locale]} - Image ${h+1}`,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,ue)],8,ne))),128))])])):n("",!0),t.value.tags&&t.value.tags.length>0?(a(),s("div",de,[e("div",ge,[(a(!0),s(v,null,y(t.value.tags,r=>(a(),s("span",{key:r,class:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm"}," #"+o(r),1))),128))])])):n("",!0),e("div",pe,[g(d,{to:{name:"press"},class:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 font-medium"},{default:w(()=>[c[2]||(c[2]=e("span",null,"←",-1)),e("span",null,o(l.$t("press.backToPress")),1)]),_:1})])]),e("aside",me,[e("div",ve,[e("div",ye,[e("div",xe,[e("h3",fe,[c[3]||(c[3]=e("span",{class:"w-1 h-6 bg-white rounded-full mr-3"},null,-1)),k(" "+o(l.$t("press.relatedArticles")),1)])]),e("div",he,[I.value.length>0?(a(),s("div",be,[(a(!0),s(v,null,y(I.value,r=>(a(),s("article",{key:r.id,class:"group hover:bg-gray-50 rounded-xl transition-all duration-200"},[g(d,{to:{name:"press-article",params:{slug:r.slug}},class:"block p-2"},{default:w(()=>[r.image?(a(),s("div",we,[e("img",{src:i(p)(r.image),alt:r.title[l.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,ke)])):n("",!0),e("div",$e,[e("span",Ce,o(r.category),1),e("h4",Ae,o(r.title[l.$i18n.locale]),1),e("p",je,[g(i(K),{class:"w-3 h-3 mr-1"}),k(" "+o(i(C)(r.publishedAt,i(x))),1)])])]),_:2},1032,["to"])]))),128))])):(a(),s("div",Ie,[e("p",_e,o(l.$t("press.noRelatedArticles")),1)]))])]),e("div",Re,[e("div",Se,[e("h3",Te,[c[4]||(c[4]=e("span",{class:"w-1 h-6 bg-white rounded-full mr-3"},null,-1)),k(" "+o(l.$t("press.popularArticles")),1)])]),e("div",ze,[_.value.length>0?(a(),s("div",Be,[(a(!0),s(v,null,y(_.value,r=>(a(),s("article",{key:r.id,class:"group"},[g(d,{to:{name:"press-article",params:{slug:r.slug}},class:"flex items-start space-x-3 hover:bg-gray-50 rounded-lg p-2 transition-colors"},{default:w(()=>[r.image?(a(),s("div",Fe,[e("img",{src:i(p)(r.image),alt:r.title[l.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,Le)])):n("",!0),e("div",Ne,[e("h4",Pe,o(r.title[l.$i18n.locale]),1),e("p",Qe,o(i(C)(r.publishedAt,i(x))),1)])]),_:2},1032,["to"])]))),128))])):n("",!0)])])])])])):(a(),s("div",Me,[e("p",Ve,o(l.$t("press.articleNotFound")),1)])),f.value?(a(),s("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:R},[e("button",{class:"absolute top-4 right-4 text-white hover:text-gray-300",onClick:R},[g(i(E),{class:"w-8 h-8"})]),u.value>0?(a(),s("button",{key:0,class:"absolute left-4 text-white hover:text-gray-300",onClick:$(L,["stop"])},[g(i(H),{class:"w-8 h-8"})])):n("",!0),u.value<(t.value?.gallery?.length||0)-1?(a(),s("button",{key:1,class:"absolute right-4 text-white hover:text-gray-300",onClick:$(F,["stop"])},[g(i(J),{class:"w-8 h-8"})])):n("",!0),t.value?.gallery?(a(),s("img",{key:2,src:i(p)(t.value.gallery[u.value]),alt:`${t.value.title[l.$i18n.locale]} - Image ${u.value+1}`,class:"max-w-full max-h-full object-contain",onClick:c[0]||(c[0]=$(()=>{},["stop"]))},null,8,De)):n("",!0)])):n("",!0)])}}});export{ll as default};
