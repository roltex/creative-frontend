import{a as P,b as S,r as p,D as w,o as A,M as j,f as l,g as o,F as x,k,j as d,h as s,q as $,s as q,i as h,t as n,l as B,w as M,m as V,A as D}from"./index-DsFNXLy9.js";import{g as F}from"./imageUrl-TKHrL0N0.js";import{f as I}from"./dateFormat-DGm57d66.js";import{_ as U}from"./Pagination.vue_vue_type_script_setup_true_lang-4XiYK0_x.js";import{a as E}from"./axios-DmEz51qs.js";import{N}from"./newspaper-DJbTGWOo.js";import{u as H}from"./news-COQHpwZL.js";import"./chevron-left-CaKK64-5.js";import"./createLucideIcon-CDD8NU1k.js";import"./chevron-right-Bh_8TdiF.js";import"./notifications-CirvSrl-.js";const T={key:0,class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},z={key:1},G={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},J={class:"relative aspect-16-9 bg-gray-100 overflow-hidden"},K=["src","alt"],O={key:1,class:"w-full h-full flex items-center justify-center bg-gray-200"},Q={class:"absolute top-4 left-4"},W={class:"px-3 py-1.5 bg-primary-500 text-white text-xs font-semibold rounded-full shadow-md uppercase tracking-wide"},X={class:"absolute top-4 right-4 bg-white/95 backdrop-blur-sm rounded-lg px-3 py-2 shadow-lg"},Y={class:"text-xs text-gray-600 text-center"},Z={class:"absolute bottom-0 left-0 right-0 p-4"},tt={class:"text-lg font-bold text-white mb-1 line-clamp-2 group-hover:text-primary-200 transition-colors"},et={class:"p-6 bg-white"},st={class:"text-gray-600 mb-4 line-clamp-3"},at={class:"flex items-center justify-end"},ot={class:"text-primary-500 hover:text-primary-600 font-medium text-sm"},rt={key:2,class:"text-center py-12"},lt={class:"text-lg font-semibold text-gray-900 mb-2"},it={class:"text-gray-600"},nt=P({__name:"NewsGrid",props:{limit:{},category:{}},setup(y){const r=y,{locale:g}=S(),v=j(),L=D(),u=p([]),f=p(!1),c=p(1),m=p(1),b=r.limit||9,C=t=>{if(r.limit)return;const e={...v.query};t>1?e.page=String(t):delete e.page,L.replace({query:e})},_=async(t=1)=>{f.value=!0;try{const e={page:t,per_page:b};r.category&&(e.category=r.category);const i=await E.get("/news",{params:e});i.data.success&&(u.value=Array.isArray(i.data.data)?i.data.data:[],i.data.meta?(c.value=i.data.meta.current_page||t,m.value=i.data.meta.last_page||1):m.value=1)}catch(e){console.error("Failed to fetch articles:",e),u.value=[]}finally{f.value=!1}};w(c,t=>{r.limit||(C(t),_(t))}),w(()=>r.category,()=>{c.value=1,_(1)});const R=t=>{if(!t)return"";const e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""};return A(()=>{const t=parseInt(v.query.page),e=!r.limit&&t&&t>0?t:1;c.value=e,_(e)}),(t,e)=>{const i=V("RouterLink");return o(),l("div",null,[f.value?(o(),l("div",T,[(o(!0),l(x,null,k(d(b),a=>(o(),l("div",{key:a,class:"card"},[...e[1]||(e[1]=[B('<div class="aspect-16-9 skeleton"></div><div class="p-6 space-y-3"><div class="skeleton h-4 w-20"></div><div class="skeleton h-6 w-full"></div><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-1/3"></div></div>',2)])]))),128))])):u.value.length>0?(o(),l("div",z,[s("div",G,[(o(!0),l(x,null,k(u.value,a=>(o(),$(i,{key:a.id,to:{name:"news-article",params:{slug:a.slug}},class:"card-hover group block"},{default:M(()=>[s("div",J,[a.image?(o(),l("img",{key:0,src:d(F)(a.image),alt:a.title[t.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,K)):(o(),l("div",O,[h(d(N),{class:"w-16 h-16 text-gray-400"})])),e[2]||(e[2]=s("div",{class:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"},null,-1)),s("div",Q,[s("span",W,n(a.category),1)]),s("div",X,[s("div",Y,n(d(I)(a.published_at||a.publishedAt,d(g))),1)]),s("div",Z,[s("h3",tt,n(a.title[t.$i18n.locale]),1)])]),s("div",et,[s("p",st,n(a.excerpt?.[t.$i18n.locale]||R(a.content?.[t.$i18n.locale]||"").substring(0,150)+"..."),1),s("div",at,[s("span",ot,n(t.$t("news.readMore"))+" â†’ ",1)])])]),_:2},1032,["to"]))),128))]),!t.limit&&m.value>1?(o(),$(U,{key:0,currentPage:c.value,"onUpdate:currentPage":e[0]||(e[0]=a=>c.value=a),totalPages:m.value,class:"mt-8"},null,8,["currentPage","totalPages"])):q("",!0)])):(o(),l("div",rt,[h(d(N),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s("h3",lt,n(t.$t("common.noResults")),1),s("p",it,n(t.$t("news.noNewsAvailable")),1)]))])}}}),ct={class:"container-fluid py-12"},dt={class:"text-4xl font-bold mb-8"},xt=P({__name:"NewsList",setup(y){const r=H();return A(async()=>{r.initialized||await r.fetchArticles()}),(g,v)=>(o(),l("div",ct,[s("h1",dt,n(g.$t("news.title")),1),h(nt)]))}});export{xt as default};
