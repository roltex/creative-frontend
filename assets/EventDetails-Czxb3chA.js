import{a as E,b as M,r as v,o as T,L as $,A as L,f as a,g as i,l as C,h as e,i as d,t as o,w as N,m as D,j as r,s as u,p}from"./index-DtkvZJba.js";import{g as H}from"./imageUrl-C50LeKeB.js";import{u as S}from"./events-C7i9reZw.js";import{C as A}from"./calendar-Cj-MDfBS.js";import{M as R}from"./map-pin-vSG21VTB.js";import{C as U}from"./chevron-left-CIPqhcoz.js";import{f as g,e as V}from"./format-BcNypMxD.js";import{k as j}from"./ka-CAmDVXNV.js";import"./axios-LcTtixay.js";import"./notifications-jwSlCyiM.js";import"./createLucideIcon-DWrR9FBC.js";const B={class:"container-fluid py-8 lg:py-8"},I={key:0},z={key:1,class:"text-center py-20"},F={class:"text-red-600 mb-4"},O={key:2},q={class:"bg-white rounded-3xl shadow-lg overflow-hidden mb-8"},P={class:"relative h-96 lg:h-[500px]"},G=["src","alt"],J={class:"absolute bottom-0 left-0 right-0 p-8 lg:p-12 text-white"},K={class:"max-w-4xl"},Q={class:"flex items-center gap-3 mb-4"},W={class:"px-4 py-2 bg-secondary-500 rounded-full text-sm font-semibold"},X={class:"text-4xl lg:text-5xl font-bold mb-4 font-headline"},Y={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Z={class:"lg:col-span-2"},ee={class:"bg-white rounded-3xl shadow-lg p-8 lg:p-12"},te={class:"text-3xl font-bold text-gray-900 mb-6 font-headline"},se={class:"prose prose-lg max-w-none text-gray-700"},le=["innerHTML"],oe=["innerHTML"],ae={class:"lg:col-span-1"},ie={class:"bg-white rounded-3xl shadow-lg p-6"},ne={class:"space-y-4"},de={class:"text-sm text-gray-600 mb-1 flex items-center"},re={class:"ml-6"},ce={key:0,class:"text-base font-semibold text-gray-900 mb-1"},ve={key:1,class:"text-sm text-gray-600"},ue={class:"pt-4 border-t border-gray-200"},me={class:"text-sm text-gray-600 mb-1 flex items-center"},he={class:"text-base font-semibold text-gray-900 ml-6 mb-3"},pe={class:"mt-3 ml-6 rounded-lg overflow-hidden border border-gray-200"},ge=["src"],Ce=E({__name:"EventDetails",setup(fe){const f=$(),b=L(),{locale:_}=M(),w=S(),t=v(null),c=v(!0),n=v(null),y=s=>({workshop:"ვორქშოპი",exhibition:"გამოფენა",conference:"კონფერენცია",other:"ღონისძიება"})[s]||"ღონისძიება",m=s=>{if(!s)return"";try{const l=new Date(s);return isNaN(l.getTime())?"":g(l,"EEEE, d MMMM yyyy",{locale:_.value==="ka"?j:V})}catch{return""}},h=s=>{if(!s)return"";try{const l=new Date(s);return isNaN(l.getTime())?"":g(l,"HH:mm")}catch{return""}},x=s=>`https://maps.google.com/maps?q=${encodeURIComponent(s)}&t=&z=15&ie=UTF8&iwloc=&output=embed`;return T(async()=>{const s=f.params.slug;c.value=!0,n.value=null;try{const l=await w.fetchEventBySlug(s);l?t.value=l:(n.value="Event not found",b.push({name:"events"}))}catch(l){n.value=l.message||"Failed to load event",console.error("Error loading event:",l)}finally{c.value=!1}}),(s,l)=>{const k=D("RouterLink");return i(),a("div",B,[c.value?(i(),a("div",I,[...l[0]||(l[0]=[C('<div class="bg-white rounded-3xl shadow-lg overflow-hidden mb-8"><div class="relative h-96 lg:h-[500px]"><div class="absolute inset-0 skeleton"></div><div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div><div class="absolute bottom-0 left-0 right-0 p-8 lg:p-12"><div class="max-w-4xl"><div class="skeleton h-8 w-32 mb-4 bg-white/20"></div><div class="skeleton h-12 w-3/4 mb-4 bg-white/20"></div></div></div></div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-2"><div class="bg-white rounded-3xl shadow-lg p-8 lg:p-12"><div class="skeleton h-10 w-64 mb-6"></div><div class="space-y-4"><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-5/6"></div><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-4/5"></div></div></div></div><div class="lg:col-span-1"><div class="bg-white rounded-3xl shadow-lg p-6"><div class="skeleton h-7 w-32 mb-4"></div><div class="space-y-4"><div><div class="skeleton h-4 w-24 mb-2"></div><div class="ml-6 space-y-2"><div class="skeleton h-5 w-48"></div><div class="skeleton h-4 w-20"></div></div></div><div class="pt-4 border-t border-gray-200"><div class="skeleton h-4 w-20 mb-2"></div><div class="ml-6"><div class="skeleton h-5 w-40 mb-3"></div><div class="skeleton h-[200px] w-full rounded-lg"></div></div></div></div></div></div></div>',2)])])):n.value?(i(),a("div",z,[e("p",F,o(n.value),1),d(k,{to:{name:"events"},class:"inline-flex items-center text-primary-600 hover:text-primary-700"},{default:N(()=>[d(r(U),{class:"w-5 h-5 mr-2"}),e("span",null,o(s.$t("common.back")),1)]),_:1})])):(i(),a("div",O,[e("div",q,[e("div",P,[e("img",{src:r(H)(t.value.image),alt:t.value.title[s.$i18n.locale],class:"w-full h-full object-cover"},null,8,G),l[1]||(l[1]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"},null,-1)),e("div",J,[e("div",K,[e("div",Q,[e("span",W,o(y(t.value.type)),1)]),e("h1",X,o(t.value.title[s.$i18n.locale]),1)])])])]),e("div",Y,[e("div",Z,[e("div",ee,[e("h2",te,o(s.$t("events.fullDescription")),1),e("div",se,[e("div",{class:"leading-relaxed mb-4",innerHTML:t.value.description[s.$i18n.locale]},null,8,le),t.value.details?(i(),a("div",{key:0,class:"leading-relaxed",innerHTML:t.value.details[s.$i18n.locale]},null,8,oe)):u("",!0)])])]),e("div",ae,[e("div",ie,[l[2]||(l[2]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-4 font-headline"},"ინფორმაცია",-1)),e("div",ne,[e("div",null,[e("p",de,[d(r(A),{class:"w-4 h-4 mr-2"}),p(" "+o(s.$t("events.dateTime")),1)]),e("div",re,[m(t.value.startAt)?(i(),a("p",ce,o(m(t.value.startAt)),1)):u("",!0),h(t.value.startAt)?(i(),a("p",ve,o(h(t.value.startAt)),1)):u("",!0)])]),e("div",ue,[e("p",me,[d(r(R),{class:"w-4 h-4 mr-2"}),p(" "+o(s.$t("events.location")),1)]),e("p",he,o(typeof t.value.location=="string"?t.value.location:t.value.location?.[s.$i18n.locale]||t.value.location?.ka||t.value.location?.en||""),1),e("div",pe,[e("iframe",{src:x(typeof t.value.location=="string"?t.value.location:t.value.location?.[s.$i18n.locale]||t.value.location?.ka||t.value.location?.en||""),width:"100%",height:"200",style:{border:"0"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"},null,8,ge)])])])])])])]))])}}});export{Ce as default};
