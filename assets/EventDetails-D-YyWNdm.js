import{a as k,b as $,r as v,o as T,M as C,A as L,f as a,g as i,l as M,h as e,i as d,t as o,w as E,m as A,j as r,s as u,p}from"./index-DWH86RwT.js";import{g as D}from"./imageUrl-TKHrL0N0.js";import{i as N,b as R}from"./dateFormat-DGm57d66.js";import{u as S}from"./events-DBFF6p20.js";import{C as V}from"./calendar-Fjcp4cp_.js";import{M as B}from"./map-pin-COMfzv_z.js";import{C as H}from"./chevron-left-D7RDQAmf.js";import"./axios-CbOHNgda.js";import"./notifications-nnacgj6e.js";import"./createLucideIcon-Dk9UAib9.js";const U={class:"container-fluid py-8 lg:py-8"},F={key:0},I={key:1,class:"text-center py-20"},j={class:"text-red-600 mb-4"},z={key:2},q={class:"bg-white rounded-3xl shadow-lg overflow-hidden mb-8"},P={class:"relative h-96 lg:h-[500px]"},G=["src","alt"],J={class:"absolute bottom-0 left-0 right-0 p-8 lg:p-12 text-white"},K={class:"max-w-4xl"},O={class:"flex items-center gap-3 mb-4"},Q={class:"px-4 py-2 bg-secondary-500 rounded-full text-sm font-semibold"},W={class:"text-4xl lg:text-5xl font-bold mb-4 font-headline"},X={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Y={class:"lg:col-span-2"},Z={class:"bg-white rounded-3xl shadow-lg p-8 lg:p-12"},ee={class:"text-3xl font-bold text-gray-900 mb-6 font-headline"},se={class:"prose prose-lg max-w-none text-gray-700"},te=["innerHTML"],le=["innerHTML"],oe={class:"lg:col-span-1"},ae={class:"bg-white rounded-3xl shadow-lg p-6"},ie={class:"space-y-4"},ne={class:"text-sm text-gray-600 mb-1 flex items-center"},de={class:"ml-6"},re={key:0,class:"text-base font-semibold text-gray-900 mb-1"},ce={key:1,class:"text-sm text-gray-600"},ve={class:"pt-4 border-t border-gray-200"},ue={class:"text-sm text-gray-600 mb-1 flex items-center"},me={class:"text-base font-semibold text-gray-900 ml-6 mb-3"},he={class:"mt-3 ml-6 rounded-lg overflow-hidden border border-gray-200"},pe=["src"],Le=k({__name:"EventDetails",setup(ge){const g=C(),b=L(),{locale:f}=$(),_=S(),s=v(null),c=v(!0),n=v(null),w=t=>({workshop:"ვორქშოპი",exhibition:"გამოფენა",conference:"კონფერენცია",other:"ღონისძიება"})[t]||"ღონისძიება",m=t=>N(t,f.value),h=t=>R(t),x=t=>`https://maps.google.com/maps?q=${encodeURIComponent(t)}&t=&z=15&ie=UTF8&iwloc=&output=embed`;return T(async()=>{const t=g.params.slug;c.value=!0,n.value=null;try{const l=await _.fetchEventBySlug(t);l?s.value=l:(n.value="Event not found",b.push({name:"events"}))}catch(l){n.value=l.message||"Failed to load event",console.error("Error loading event:",l)}finally{c.value=!1}}),(t,l)=>{const y=A("RouterLink");return i(),a("div",U,[c.value?(i(),a("div",F,[...l[0]||(l[0]=[M('<div class="bg-white rounded-3xl shadow-lg overflow-hidden mb-8"><div class="relative h-96 lg:h-[500px]"><div class="absolute inset-0 skeleton"></div><div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div><div class="absolute bottom-0 left-0 right-0 p-8 lg:p-12"><div class="max-w-4xl"><div class="skeleton h-8 w-32 mb-4 bg-white/20"></div><div class="skeleton h-12 w-3/4 mb-4 bg-white/20"></div></div></div></div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-2"><div class="bg-white rounded-3xl shadow-lg p-8 lg:p-12"><div class="skeleton h-10 w-64 mb-6"></div><div class="space-y-4"><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-5/6"></div><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-4/5"></div></div></div></div><div class="lg:col-span-1"><div class="bg-white rounded-3xl shadow-lg p-6"><div class="skeleton h-7 w-32 mb-4"></div><div class="space-y-4"><div><div class="skeleton h-4 w-24 mb-2"></div><div class="ml-6 space-y-2"><div class="skeleton h-5 w-48"></div><div class="skeleton h-4 w-20"></div></div></div><div class="pt-4 border-t border-gray-200"><div class="skeleton h-4 w-20 mb-2"></div><div class="ml-6"><div class="skeleton h-5 w-40 mb-3"></div><div class="skeleton h-[200px] w-full rounded-lg"></div></div></div></div></div></div></div>',2)])])):n.value?(i(),a("div",I,[e("p",j,o(n.value),1),d(y,{to:{name:"events"},class:"inline-flex items-center text-primary-600 hover:text-primary-700"},{default:E(()=>[d(r(H),{class:"w-5 h-5 mr-2"}),e("span",null,o(t.$t("common.back")),1)]),_:1})])):(i(),a("div",z,[e("div",q,[e("div",P,[e("img",{src:r(D)(s.value.image),alt:s.value.title[t.$i18n.locale],class:"w-full h-full object-cover"},null,8,G),l[1]||(l[1]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"},null,-1)),e("div",J,[e("div",K,[e("div",O,[e("span",Q,o(w(s.value.type)),1)]),e("h1",W,o(s.value.title[t.$i18n.locale]),1)])])])]),e("div",X,[e("div",Y,[e("div",Z,[e("h2",ee,o(t.$t("events.fullDescription")),1),e("div",se,[e("div",{class:"leading-relaxed mb-4",innerHTML:s.value.description[t.$i18n.locale]},null,8,te),s.value.details?(i(),a("div",{key:0,class:"leading-relaxed",innerHTML:s.value.details[t.$i18n.locale]},null,8,le)):u("",!0)])])]),e("div",oe,[e("div",ae,[l[2]||(l[2]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-4 font-headline"},"ინფორმაცია",-1)),e("div",ie,[e("div",null,[e("p",ne,[d(r(V),{class:"w-4 h-4 mr-2"}),p(" "+o(t.$t("events.dateTime")),1)]),e("div",de,[m(s.value.startAt)?(i(),a("p",re,o(m(s.value.startAt)),1)):u("",!0),h(s.value.startAt)?(i(),a("p",ce,o(h(s.value.startAt)),1)):u("",!0)])]),e("div",ve,[e("p",ue,[d(r(B),{class:"w-4 h-4 mr-2"}),p(" "+o(t.$t("events.location")),1)]),e("p",me,o(typeof s.value.location=="string"?s.value.location:s.value.location?.[t.$i18n.locale]||s.value.location?.ka||s.value.location?.en||""),1),e("div",he,[e("iframe",{src:x(typeof s.value.location=="string"?s.value.location:s.value.location?.[t.$i18n.locale]||s.value.location?.ka||s.value.location?.en||""),width:"100%",height:"200",style:{border:"0"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"},null,8,pe)])])])])])])]))])}}});export{Le as default};
