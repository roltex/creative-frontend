import{a as $,b as x,c as P,f as a,g as e,h as i,j as c,i as f,n as D,t as l,s as _,w as L,p as N,m as T,l as V,r as v,D as k,o as B,F as w,k as b,q as y}from"./index-B1Rkypfb.js";import{g as j}from"./imageUrl-TKHrL0N0.js";import{f as F}from"./dateFormat-DGm57d66.js";import{T as C}from"./trophy-B5RqTmqi.js";import{C as M}from"./calendar-Bb32_vWe.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as S}from"./Pagination.vue_vue_type_script_setup_true_lang-C0vPq4gO.js";import{a as H}from"./axios-B3FdhiIt.js";const I={class:"card-hover group"},U={class:"aspect-16-9 bg-gray-100 relative overflow-hidden"},q=["src","alt"],z={key:1,class:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary-100 to-primary-200"},A={class:"absolute top-4 right-4"},E={class:"p-6"},G={key:0,class:"text-xs text-primary-500 font-semibold uppercase tracking-wide mb-2"},J={class:"text-xl font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-primary-500 transition-colors"},K=["innerHTML"],O={class:"space-y-2 mb-4"},Q={key:0,class:"flex items-center text-sm text-gray-500"},W=$({__name:"CompetitionCard",props:{competition:{}},setup(u){const s=u,{locale:d}=x(),m=P(()=>{switch(s.competition.status){case"current":return"bg-green-100 text-green-800";case"upcoming":return"bg-primary-100 text-primary-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}});return(t,p)=>{const g=T("RouterLink");return e(),a("article",I,[i("div",U,[t.competition.image?(e(),a("img",{key:0,src:c(j)(t.competition.image),alt:t.competition.title[t.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,q)):(e(),a("div",z,[f(c(C),{class:"w-16 h-16 text-primary-500"})])),i("div",A,[i("span",{class:D(["px-3 py-1 rounded-full text-xs font-semibold",m.value])},l(t.$t(`competitions.status.${t.competition.status}`)),3)])]),i("div",E,[t.competition.category?(e(),a("div",G,l(t.competition.category),1)):_("",!0),i("h3",J,l(t.competition.title[t.$i18n.locale]),1),i("div",{class:"text-gray-600 mb-4 line-clamp-3 prose prose-sm max-w-none",innerHTML:t.competition.description[t.$i18n.locale]},null,8,K),i("div",O,[t.competition.end_date||t.competition.endDate?(e(),a("div",Q,[f(c(M),{class:"w-4 h-4 mr-2"}),i("span",null,l(t.$t("competitions.deadline"))+": "+l(c(F)(t.competition.end_date||t.competition.endDate,c(d))),1)])):_("",!0)]),f(g,{to:{name:"competition-details",params:{slug:t.competition.slug}},class:"btn-primary w-full text-center"},{default:L(()=>[N(l(t.competition.status==="current"?t.$t("competitions.apply"):t.$t("common.viewDetails")),1)]),_:1},8,["to"])])])}}}),X={},Y={class:"card"};function Z(u,s){return e(),a("div",Y,[...s[0]||(s[0]=[V('<div class="aspect-16-9 skeleton"></div><div class="p-6 space-y-3"><div class="skeleton h-4 w-20"></div><div class="skeleton h-6 w-full"></div><div class="space-y-2"><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-3/4"></div></div><div class="space-y-2"><div class="skeleton h-4 w-2/3"></div><div class="skeleton h-4 w-1/2"></div></div><div class="skeleton h-10 w-full rounded-full"></div></div>',2)])])}const tt=R(X,[["render",Z]]),et={key:0,class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},st={key:1},ot={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},at={key:2,class:"text-center py-12"},it={class:"text-lg font-semibold text-gray-900 mb-2"},nt={class:"text-gray-600"},vt=$({__name:"CompetitionsGrid",props:{limit:{},status:{}},setup(u){const s=u,d=v([]),m=v(!1),t=v(1),p=v(1),g=s.limit||9,h=async(r=1)=>{m.value=!0;try{const n={page:r,per_page:g};s.status==="current"?n.status="current":s.status==="completed"||s.status==="archive"?n.status="completed":s.status==="upcoming"&&(n.status="upcoming");const o=await H.get("/competitions",{params:n});o.data.success&&(d.value=o.data.data||[],o.data.meta?(t.value=o.data.meta.current_page||r,p.value=o.data.meta.last_page||1):p.value=1)}catch(n){console.error("Failed to fetch competitions:",n),d.value=[]}finally{m.value=!1}};return k(t,r=>{s.limit||h(r)}),k(()=>s.status,()=>{t.value=1,h(1)}),B(()=>{h(1)}),(r,n)=>(e(),a("div",null,[m.value?(e(),a("div",et,[(e(!0),a(w,null,b(c(g),o=>(e(),y(tt,{key:o}))),128))])):d.value.length>0?(e(),a("div",st,[i("div",ot,[(e(!0),a(w,null,b(d.value,o=>(e(),y(W,{key:o.id,competition:o},null,8,["competition"]))),128))]),!r.limit&&p.value>1?(e(),y(S,{key:0,currentPage:t.value,"onUpdate:currentPage":n[0]||(n[0]=o=>t.value=o),totalPages:p.value,class:"mt-8"},null,8,["currentPage","totalPages"])):_("",!0)])):(e(),a("div",at,[f(c(C),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i("h3",it,l(r.$t("common.noResults")),1),i("p",nt,l(r.$t("competitions.noActiveCompetitions")),1)]))]))}});export{vt as _};
