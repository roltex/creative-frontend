import{a as N,b as L,r as p,D as w,o as P,f as l,g as o,F as b,k as x,j as c,h as e,q as k,s as C,i as _,t as n,l as j,w as B,m as S}from"./index-B1Rkypfb.js";import{g as V}from"./imageUrl-TKHrL0N0.js";import{f as D}from"./dateFormat-DGm57d66.js";import{_ as F}from"./Pagination.vue_vue_type_script_setup_true_lang-C0vPq4gO.js";import{a as M}from"./axios-B3FdhiIt.js";import{N as $}from"./newspaper-nCrlrHgW.js";import{u as R}from"./news-uF8aC41R.js";import"./chevron-left-ClCvH8TQ.js";import"./createLucideIcon-Cqh3-lx4.js";import"./chevron-right-Bk91AVfi.js";import"./notifications-DZ0EQw-H.js";const E={key:0,class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},H={key:1},I={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},T={class:"relative aspect-16-9 bg-gray-100 overflow-hidden"},U=["src","alt"],q={key:1,class:"w-full h-full flex items-center justify-center bg-gray-200"},z={class:"absolute top-4 left-4"},G={class:"px-3 py-1.5 bg-primary-500 text-white text-xs font-semibold rounded-full shadow-md uppercase tracking-wide"},J={class:"absolute top-4 right-4 bg-white/95 backdrop-blur-sm rounded-lg px-3 py-2 shadow-lg"},K={class:"text-xs text-gray-600 text-center"},O={class:"absolute bottom-0 left-0 right-0 p-4"},Q={class:"text-lg font-bold text-white mb-1 line-clamp-2 group-hover:text-primary-200 transition-colors"},W={class:"p-6 bg-white"},X={class:"text-gray-600 mb-4 line-clamp-3"},Y={class:"flex items-center justify-end"},Z={class:"text-primary-500 hover:text-primary-600 font-medium text-sm"},tt={key:2,class:"text-center py-12"},et={class:"text-lg font-semibold text-gray-900 mb-2"},st={class:"text-gray-600"},at=N({__name:"NewsGrid",props:{limit:{},category:{}},setup(h){const r=h,{locale:g}=L(),d=p([]),v=p(!1),u=p(1),m=p(1),y=r.limit||9,f=async(t=1)=>{v.value=!0;try{const s={page:t,per_page:y};r.category&&(s.category=r.category);const i=await M.get("/news",{params:s});i.data.success&&(d.value=Array.isArray(i.data.data)?i.data.data:[],i.data.meta?(u.value=i.data.meta.current_page||t,m.value=i.data.meta.last_page||1):m.value=1)}catch(s){console.error("Failed to fetch articles:",s),d.value=[]}finally{v.value=!1}};w(u,t=>{r.limit||f(t)}),w(()=>r.category,()=>{u.value=1,f(1)});const A=t=>{if(!t)return"";const s=document.createElement("div");return s.innerHTML=t,s.textContent||s.innerText||""};return P(()=>{f(1)}),(t,s)=>{const i=S("RouterLink");return o(),l("div",null,[v.value?(o(),l("div",E,[(o(!0),l(b,null,x(c(y),a=>(o(),l("div",{key:a,class:"card"},[...s[1]||(s[1]=[j('<div class="aspect-16-9 skeleton"></div><div class="p-6 space-y-3"><div class="skeleton h-4 w-20"></div><div class="skeleton h-6 w-full"></div><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-1/3"></div></div>',2)])]))),128))])):d.value.length>0?(o(),l("div",H,[e("div",I,[(o(!0),l(b,null,x(d.value,a=>(o(),k(i,{key:a.id,to:{name:"news-article",params:{slug:a.slug}},class:"card-hover group block"},{default:B(()=>[e("div",T,[a.image?(o(),l("img",{key:0,src:c(V)(a.image),alt:a.title[t.$i18n.locale],class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,U)):(o(),l("div",q,[_(c($),{class:"w-16 h-16 text-gray-400"})])),s[2]||(s[2]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"},null,-1)),e("div",z,[e("span",G,n(a.category),1)]),e("div",J,[e("div",K,n(c(D)(a.published_at||a.publishedAt,c(g))),1)]),e("div",O,[e("h3",Q,n(a.title[t.$i18n.locale]),1)])]),e("div",W,[e("p",X,n(a.excerpt?.[t.$i18n.locale]||A(a.content?.[t.$i18n.locale]||"").substring(0,150)+"..."),1),e("div",Y,[e("span",Z,n(t.$t("news.readMore"))+" â†’ ",1)])])]),_:2},1032,["to"]))),128))]),!t.limit&&m.value>1?(o(),k(F,{key:0,currentPage:u.value,"onUpdate:currentPage":s[0]||(s[0]=a=>u.value=a),totalPages:m.value,class:"mt-8"},null,8,["currentPage","totalPages"])):C("",!0)])):(o(),l("div",tt,[_(c($),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e("h3",et,n(t.$t("common.noResults")),1),e("p",st,n(t.$t("news.noNewsAvailable")),1)]))])}}}),ot={class:"container-fluid py-12"},lt={class:"text-4xl font-bold mb-8"},_t=N({__name:"NewsList",setup(h){const r=R();return P(async()=>{r.initialized||await r.fetchArticles()}),(g,d)=>(o(),l("div",ot,[e("h1",lt,n(g.$t("news.title")),1),_(at)]))}});export{_t as default};
